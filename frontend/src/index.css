@import url('https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;500;600;700;800&family=Playfair+Display:ital,wght@0,400;0,600;0,700;0,800;1,400&display=swap');

@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    --background: 210 40% 98%;
    --foreground: 222.2 84% 4.9%;
  }

  body {
    @apply bg-emerald-50 text-emerald-900 antialiased font-sans;
  }

  h1,
  h2,
  h3,
  h4,
  h5,
  h6 {
    font-family: 'Playfair Display', serif;
  }
}

@layer components {
  .magazine-drop-cap::first-letter {
    @apply text-6xl font-black font-serif mr-3 float-left text-emerald-900 leading-none mt-2;
  }

  .glass-card {
    @apply bg-white/70 backdrop-blur-md border border-white/20 shadow-xl;
  }

  .custom-scrollbar::-webkit-scrollbar {
    width: 6px;
  }

  .custom-scrollbar::-webkit-scrollbar-track {
    @apply bg-transparent;
  }

  .custom-scrollbar::-webkit-scrollbar-thumb {
    @apply bg-slate-200 rounded-full hover:bg-slate-300 transition-colors;
  }
}

.text-gradient {
  @apply bg-clip-text text-transparent bg-gradient-to-br from-emerald-900 to-emerald-500;
}

.persona-glow-blue {
  box-shadow: 0 0 40px -10px rgba(59, 130, 246, 0.2);
}

.persona-glow-pink {
  box-shadow: 0 0 40px -10px rgba(236, 72, 153, 0.2);
}

/* Magazine v6.0 Refinements */
@keyframes ken-burns {
  0% {
    transform: scale(1.0);
  }

  100% {
    transform: scale(1.15);
  }
}

.animate-ken-burns {
  animation: ken-burns 60s infinite alternate ease-in-out;
}

.magazine-drop-cap::first-letter {
  @apply text-8xl font-black font-serif mr-4 float-left text-emerald-900 leading-[0.8] mt-2;
}

::selection {
  @apply bg-emerald-100 text-emerald-900;
}

/* Editorial Formatting Extension */
.persona-mention {
  @apply font-bold rounded-lg px-2 py-0.5 transition-all cursor-help;
}

.persona-mention.marcel {
  @apply bg-blue-50 text-blue-700 hover:bg-blue-100;
}

.persona-mention.petra {
  @apply bg-pink-50 text-pink-600 hover:bg-pink-100;
}

.editorial-signpost {
  @apply inline-flex items-center gap-1.5 font-bold text-slate-900 border-b-2 border-slate-100 transition-all hover:border-blue-400;
}

.editorial-signpost::before {
  content: attr(data-icon);
  @apply text-base opacity-90;
}

.market-pulse-box {
  background: linear-gradient(135deg, #0f172a 0%, #1e293b 100%);
  @apply transition-transform duration-700 hover:scale-[1.01];
}

.energy-ribbon {
  @apply select-none;
}

.editorial-content {
  @apply relative;
}

/* Ensure images in editorial content look premium */
.editorial-content img {
  @apply rounded-3xl shadow-2xl my-16 border border-slate-100 transition-all hover:scale-[1.02];
}

/* Editorial Formatting Extension - World Class Refinements */
.magazine-lede {
  @apply text-2xl md:text-3xl font-serif font-black text-slate-900 leading-[1.1] mb-12 tracking-tighter opacity-95;
}

.magazine-lede::first-letter {
  @apply text-7xl font-black font-serif mr-4 float-left text-blue-600 leading-[0.75] mt-2;
}

.magazine-pull-quote {
  @apply my-20 p-12 bg-slate-50 border-y-4 border-blue-600 relative text-center;
}

.magazine-pull-quote .quote-mark {
  @apply block text-6xl font-serif text-blue-200 leading-none h-8 select-none;
}

.magazine-pull-quote {
  @apply text-2xl md:text-3xl font-serif italic font-medium text-slate-800 leading-relaxed;
}

.magazine-section-marker {
  @apply flex items-center gap-6 mb-12 select-none;
}

.magazine-section-marker::before {
  content: '';
  @apply h-px flex-1 bg-gradient-to-r from-transparent to-blue-600;
}

.magazine-section-marker span {
  @apply text-[10px] font-black uppercase tracking-[0.8em] text-blue-600 whitespace-nowrap;
}

.magazine-byline {
  @apply mt-24 pt-12 border-t border-slate-100 flex flex-col items-center gap-6;
}

.magazine-byline .byline-line {
  @apply w-12 h-1 bg-blue-600 rounded-full;
}

.magazine-byline .byline-content {
  @apply flex flex-col items-center text-center;
}

.magazine-byline .auth {
  @apply text-[9px] font-black uppercase tracking-[0.4em] text-slate-400 mb-2;
}

.magazine-byline .role {
  @apply text-sm font-bold text-slate-900 mb-1;
}

.magazine-byline .date {
  @apply text-[10px] font-medium text-slate-400 font-mono;
}

.magazine-pacing p {
  @apply mb-8 text-base leading-relaxed text-slate-700 max-w-2xl;
}

.magazine-pacing h4 {
  @apply text-xs font-black uppercase tracking-[0.5em] text-blue-600 mb-6 mt-16;
}

/* === NARRATIVE-FIRST HIERARCHY === */
/* Ensures narrative content is visually dominant over KPIs */

.narrative-primary {
  @apply text-lg md:text-xl leading-relaxed text-slate-700 font-serif;
}

.narrative-primary p {
  @apply mb-6;
}

.narrative-primary p:first-of-type::first-letter {
  @apply text-5xl font-serif font-bold float-left mr-3 leading-none text-blue-600;
}

/* Supporting data should be visually subdued */
.supporting-data {
  @apply text-sm text-slate-500 bg-slate-50 rounded-xl p-4 border border-slate-100;
}

.supporting-data .value {
  @apply text-lg font-bold text-slate-700;
}

/* Collapsible sections styling */
.collapsible-section {
  @apply border-t border-slate-100 py-4;
}

.collapsible-header {
  @apply flex items-center justify-between py-3 cursor-pointer select-none;
}

.collapsible-header:hover {
  @apply text-blue-600;
}

/* Insight cards - narrative-derived */
.insight-card {
  @apply p-5 rounded-xl border-l-4 transition-all;
}

.insight-card.takeaway {
  @apply bg-blue-50 border-blue-500;
}

.insight-card.tension {
  @apply bg-amber-50 border-amber-500;
}

.insight-card.relevance {
  @apply bg-slate-50 border-slate-300;
}

/* Orientation page (Chapter 0) specific */
.orientation-nav-item {
  @apply w-full text-left p-5 rounded-2xl border transition-all;
}

.orientation-nav-item.priority-high {
  @apply bg-blue-50 border-blue-200 hover:border-blue-400 hover:shadow-lg;
}

.orientation-nav-item.priority-normal {
  @apply bg-slate-50 border-slate-200 hover:border-slate-300 hover:shadow-md;
}

/* Error states - for validation failures */
.error-state {
  @apply bg-red-50 border-2 border-red-200 rounded-2xl p-8;
}

.error-state .error-icon {
  @apply text-red-500;
}

.error-state .error-title {
  @apply text-xl font-bold text-red-700 mb-2;
}

.error-state .error-message {
  @apply text-red-600;
}

.error-state .error-code {
  @apply text-sm text-red-500 mt-4 font-mono;
}

/* ============================================================================
   4-PLANE COGNITIVE MODEL LAYOUT
   
   LAYOUT SPEC (MANDATORY):
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ PLANE A       â”‚ PLANE B                      â”‚ PLANE C              â”‚ PLANE D               â”‚
   â”‚ Visuals       â”‚ Narrative (300+ words)       â”‚ KPIs & Data          â”‚ Marcel / Petra        â”‚
   â”‚ (Left)        â”‚ (Centerâ€“Upper)               â”‚ (Centerâ€“Lower)       â”‚ (Right)               â”‚
   â”‚ ğŸŸ¦ Blue       â”‚ ğŸŸ© Green                     â”‚ ğŸŸ¨ Amber             â”‚ ğŸŸ¥ Red                â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
   ========================================================================== */

.four-plane-chapter {
  @apply w-full min-h-screen bg-slate-50;
}

.four-plane-grid {
  @apply grid grid-cols-12 gap-4 p-4;
}

/* Plane Headers - Color-coded for cognitive clarity */
.plane-header {
  @apply px-4 py-3 flex items-center gap-2 border-b;
}

/* ğŸŸ¦ PLANE A â€” Visual Intelligence (Blue) */
.plane-a {
  @apply bg-white rounded-2xl shadow-sm overflow-hidden;
  border: 2px solid theme('colors.blue.100');
}

.plane-a .plane-header {
  @apply bg-blue-50 border-blue-100;
}

.plane-a .plane-content {
  @apply p-4 min-h-[400px];
}

/* ğŸŸ© PLANE B â€” Narrative Reasoning (Green/Emerald) */
.plane-b {
  @apply bg-white rounded-2xl shadow-sm overflow-hidden flex-1;
  border: 2px solid theme('colors.emerald.100');
}

.plane-b .plane-header {
  @apply bg-emerald-50 border-emerald-100;
}

.plane-b .plane-content {
  @apply p-6 min-h-[500px];
}

/* Narrative styling within Plane B */
.plane-b .prose {
  @apply max-w-none;
}

.plane-b .prose p:first-of-type::first-letter {
  @apply text-4xl font-serif font-bold float-left mr-3 leading-none text-emerald-600;
}

/* ğŸŸ¨ PLANE C â€” Factual Anchor (Amber/Yellow) */
.plane-c {
  @apply bg-white rounded-2xl shadow-sm overflow-hidden;
  border: 2px solid theme('colors.amber.100');
}

.plane-c .plane-header {
  @apply bg-amber-50 border-amber-100;
}

.plane-c .plane-content {
  @apply p-4 min-h-[300px];
}

/* KPI Cards styling */
.plane-c .kpi-card {
  @apply bg-amber-50/50 rounded-lg p-3 border border-amber-100;
}

.plane-c .kpi-label {
  @apply text-[10px] font-bold text-amber-700 uppercase tracking-wider;
}

.plane-c .kpi-value {
  @apply text-lg font-bold text-slate-800;
}

/* ğŸŸ¥ PLANE D â€” Human Preference (Red) */
.plane-d {
  @apply bg-white rounded-2xl shadow-sm overflow-hidden;
  border: 2px solid theme('colors.red.100');
}

.plane-d .plane-header {
  @apply bg-red-50 border-red-100;
}

.plane-d .plane-content {
  @apply p-4 min-h-[400px];
}

/* Persona cards within Plane D */
.plane-d .persona-marcel {
  @apply bg-blue-50 rounded-lg p-3 border border-blue-200;
}

.plane-d .persona-petra {
  @apply bg-pink-50 rounded-lg p-3 border border-pink-200;
}

.plane-d .overlap-section {
  @apply bg-emerald-50 rounded-lg p-3 border border-emerald-200;
}

.plane-d .tension-section {
  @apply bg-red-50 rounded-lg p-3 border border-red-200;
}

/* Synchronized scroll behavior */
.four-plane-scroll-sync {
  scroll-behavior: smooth;
}

/* Plane Violation Error State */
.plane-violation-error {
  @apply bg-red-50 border-2 border-red-300 rounded-2xl p-6;
}

.plane-violation-error .error-header {
  @apply flex items-start gap-3 mb-4;
}

.plane-violation-error .error-icon {
  @apply w-8 h-8 text-red-500 shrink-0;
}

.plane-violation-error .error-title {
  @apply font-bold text-red-700 text-lg;
}

.plane-violation-error .error-message {
  @apply text-red-600 text-sm;
}

.plane-violation-error .error-code {
  @apply mt-4 p-3 bg-red-100 rounded-lg text-xs font-mono text-red-700;
}

/* Chart containers within Plane A */
.chart-container {
  @apply mb-6;
}

.chart-title {
  @apply text-xs font-bold text-slate-600 uppercase tracking-wider mb-3;
}

/* Radar chart styling */
.radar-chart svg {
  @apply w-full max-w-[200px] mx-auto;
}

/* Bar chart styling */
.bar-chart-item {
  @apply flex items-center gap-2 mb-2;
}

.bar-chart-label {
  @apply text-xs text-slate-500 w-20 truncate;
}

.bar-chart-track {
  @apply flex-1 bg-slate-100 rounded-full h-4 overflow-hidden;
}

.bar-chart-fill {
  @apply h-full bg-blue-500 rounded-full transition-all duration-500;
}

.bar-chart-value {
  @apply text-xs font-medium text-slate-700 w-12 text-right;
}

/* Gauge chart styling */
.gauge-chart {
  @apply flex flex-col items-center;
}

.gauge-value {
  @apply text-xl font-bold text-slate-800;
}

.gauge-label {
  @apply text-xs text-slate-500;
}

/* Data source attribution */
.data-attribution {
  @apply pt-4 border-t text-[10px] uppercase tracking-wider;
}

.plane-a .data-attribution {
  @apply border-blue-50 text-blue-400;
}

.plane-c .data-attribution {
  @apply border-amber-50 text-amber-400;
}

/* Comparison cards in Plane D */
.comparison-card {
  @apply bg-slate-50 rounded-lg p-3 border border-slate-200;
}

.comparison-card .aspect-label {
  @apply text-xs font-bold text-slate-700;
}

.comparison-card .alignment-badge {
  @apply text-[10px] px-2 py-0.5 rounded-full font-medium;
}

.comparison-card .alignment-aligned {
  @apply bg-emerald-100 text-emerald-700;
}

.comparison-card .alignment-divergent {
  @apply bg-red-100 text-red-700;
}

.comparison-card .alignment-tension {
  @apply bg-amber-100 text-amber-700;
}

.comparison-card .alignment-complementary {
  @apply bg-blue-100 text-blue-700;
}

/* Responsive adjustments for 4-plane layout */
@media (max-width: 1024px) {
  .four-plane-grid {
    @apply gap-3;
  }

  .plane-a,
  .plane-d {
    @apply col-span-12;
  }

  .plane-b .plane-content,
  .plane-c .plane-content {
    @apply min-h-[300px];
  }
}

@media (max-width: 768px) {
  .four-plane-grid {
    @apply gap-2 p-2;
  }

  .plane-header {
    @apply px-3 py-2;
  }

  .plane-content {
    @apply p-3;
  }
}

/* Print styles for 4-plane layout */
@media print {
  .four-plane-chapter {
    @apply bg-white;
  }

  .four-plane-grid {
    @apply block;
  }

  .plane-a,
  .plane-b,
  .plane-c,
  .plane-d {
    @apply col-span-12 mb-8 border-2 break-inside-avoid;
    page-break-inside: avoid;
  }

  .plane-header {
    @apply text-black;
  }
}