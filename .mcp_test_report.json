{
  "executed_at": "2025-12-15T16:27:49.910347Z",
  "root": "/Users/marcelkurvers/Development/funda-app/ai-woning-rapport-WERKEND-local",
  "summary": {
    "total_runs": 6,
    "success": 0,
    "failed": 1,
    "skipped": 5
  },
  "runs": [
    {
      "framework": "pytest",
      "command": "pytest",
      "exit_code": 1,
      "raw_output": "============================= test session starts ==============================\nplatform darwin -- Python 3.11.4, pytest-9.0.2, pluggy-1.6.0\nrootdir: /Users/marcelkurvers/Development/funda-app/ai-woning-rapport-WERKEND-local\nplugins: anyio-4.10.0\ncollected 45 items\n\nbackend/tests/e2e/test_frontend.py .F                                    [  4%]\nbackend/tests/e2e/test_pdf_export.py .                                   [  6%]\nbackend/tests/integration/test_comprehensive.py ...                      [ 13%]\nbackend/tests/integration/test_consistency.py .....                      [ 24%]\nbackend/tests/integration/test_docker_sync.py s                          [ 26%]\nbackend/tests/integration/test_integration.py .                          [ 28%]\nbackend/tests/integration/test_integration_fixtures.py .                 [ 31%]\nbackend/tests/quality/test_audit_codebase.py .                           [ 33%]\nbackend/tests/unit/test_ai_interpretation.py .....                       [ 44%]\nbackend/tests/unit/test_api_endpoints.py .....                           [ 55%]\nbackend/tests/unit/test_chapter_routines.py ...                          [ 62%]\nbackend/tests/unit/test_chapters.py F.                                   [ 66%]\nbackend/tests/unit/test_complex_parsing.py .                             [ 68%]\nbackend/tests/unit/test_domain_models.py ...                             [ 75%]\nbackend/tests/unit/test_dynamic_chapters.py ..F              [ 82%]\nbackend/tests/unit/test_explore_insights.py .                            [ 84%]\nbackend/tests/unit/test_modern_chapter.py F.                             [ 88%]\nbackend/tests/unit/test_modern_design_compliance.py ..F.                [ 97%]\nbackend/tests/unit/test_parser.py .                                      [100%]\n\n=================================== FAILURES ===================================\n___________ TestFrontendStructure.test_02_preferences_html_structure ___________\n\nself = <tests.e2e.test_frontend.TestFrontendStructure testMethod=test_02_preferences_html_structure>\n\n    def test_02_preferences_html_structure(self):\n        \"\"\"\n        Validates structure of preferences.html\n        \"\"\"\n        html_path = os.path.join(self.static_dir, \"preferences.html\")\n        if not os.path.exists(html_path):\n            self.fail(\"preferences.html does not exist\")\n    \n        with open(html_path, \"r\", encoding=\"utf-8\") as f:\n            soup = BeautifulSoup(f, \"html.parser\")\n    \n>       self.assertIn(\"Voorkeuren\", soup.title.string)\nE       AssertionError: 'Voorkeuren' not found in 'AI Match Parameters - Marcel & Petra'\n\nbackend/tests/e2e/test_frontend.py:81: AssertionError\n_____________________ TestChapters.test_chapter_generation _____________________\n\nself = <tests.unit.test_chapters.TestChapters testMethod=test_chapter_generation>\n\n    def test_chapter_generation(self):\n        \"\"\"Test that each chapter generates valid output\"\"\"\n        for i in range(13):\n             cls = get_chapter_class(i)\n             instance = cls(self.mock_data)\n>            output = instance.generate()\n                      ^^^^^^^^^^^^^^^^^^^\n\nbackend/tests/unit/test_chapters.py:38: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <chapters.chapter_0.ExecutiveSummary object at 0x105d33310>\n\n    def generate(self) -> ChapterOutput:\n        ctx = self.context\n    \n        # --- 1. INTELLIGENCE ENGINE ---\n        # Parse inputs\n        try:\n            import re\n            # Regex to find the first valid number sequence, ignoring dots but keeping the structure\n            # e.g. \"\u20ac 1.400.000\" -> \"1400000\"\n            price_raw = ctx.get('prijs', '0')\n            size_raw = ctx.get('oppervlakte', '0')\n    \n            # Extract digits from price (handle 1.250.000 -> 1250000)\n            price_digits = re.sub(r'[^\\d]', '', price_raw)\n            price_val = int(price_digits) if price_digits else 0\n    \n            # Extract digits from size (handle 120 m2 -> 120)\n            # We take the first group of digits found\n            size_match = re.search(r'(\\d+)', size_raw)\n            size_val = int(size_match.group(1)) if size_match else 1\n    \n            if size_val == 0: size_val = 1\n    \n            price_m2 = round(price_val / size_val)\n        except Exception as e:\n            import logging\n            logging.error(f\"Parsing Error: {e}\")\n            price_val = 0\n            size_val = 0\n            price_m2 = 0\n    \n        year = ctx.get('bouwjaar', '2000')\n        label = ctx.get('label', '?').upper()\n    \n        # Logic: Valuation\n        market_avg_m2 = ctx.get('avg_m2_price', 4800) # National average fallback if local unavailable\n        valuation_status = \"Marktconform\"\n        trend = \"neutral\"\n        if price_m2 > market_avg_m2 * 1.2:\n            valuation_status = \"Premium Segment\"\n            trend = \"up\"\n        elif price_m2 < market_avg_m2 * 0.8:\n            valuation_status = \"Potenti\u00eble Kans\"\n            trend = \"down\"\n    \n        # Logic: Renovation Risk\n        reno_cost = 0\n        if \"F\" in label or \"G\" in label:\n            reno_cost = 45000\n            sustain_advice = \"Ingrijpende verduurzaming nodig.\"\n        elif \"D\" in label or \"E\" in label:\n            reno_cost = 25000\n            sustain_advice = \"Isolatie-update aanbevolen.\"\n        else:\n            sustain_advice = \"Voldoet aan moderne standaarden.\"\n    \n        # Logic: Construction\n        try:\n            year_val = int(re.sub(r'[^\\d]', '', str(year)) or 2000)\n            if year_val < 1990:\n                construction_alert = \"Aandacht nodig: Dak, Leidingwerk & Asbest.\"\n            else:\n                construction_alert = \"Relatief jonge bouw; beperkt risico.\"\n        except:\n            construction_alert = \"Bouwjaar verificatie vereist.\"\n    \n        # Logic: AI Score\n        base_score = 70\n        if price_m2 < market_avg_m2: base_score += 10\n        if \"A\" in label or \"B\" in label: base_score += 10\n        if \"G\" in label: base_score -= 15\n    \n        ai_score = min(max(base_score, 0), 100)\n    \n        # --- 2. BUILD PRO REPORT ---\n    \n        # Hero\n        hero = {\n            \"address\": ctx.get('adres', 'Adres Onbekend'),\n            \"price\": ctx.get('prijs', 'Prijs op aanvraag'),\n            \"status\": \"Te Koop\" if price_val > 0 else \"Analyse Mode\",\n            \"labels\": [\"Woonhuis\", f\"{ctx.get('oppervlakte', '?').replace('m2','')} m\u00b2 Wonen\", f\"{ctx.get('perceel', '?').replace('m2','')} m\u00b2 Perceel\"]\n        }\n    \n        # Metrics\n        market_delta = round(((price_m2 - market_avg_m2) / market_avg_m2) * 100)\n        delta_str = f\"{'+' if market_delta > 0 else ''}{market_delta}% vs markt\"\n    \n        metrics = [\n            {\"id\": \"price_m2\", \"label\": \"Vraagprijs per m\u00b2\", \"value\": f\"\u20ac {price_m2:,}\", \"icon\": \"pricetag\", \"trend\": trend, \"trend_text\": delta_str},\n            {\"id\": \"energy\", \"label\": \"Duurzaamheid\", \"value\": f\"Label {label}\", \"icon\": \"leaf\", \"color\": \"green\" if label in [\"A\",\"B\",\"C\"] else \"orange\"},\n            {\"id\": \"investment\", \"label\": \"Verw. Investering\", \"value\": f\"\u20ac {reno_cost:,}\" if reno_cost > 0 else \"Geen direct\", \"icon\": \"hammer\", \"trend\": \"neutral\" if reno_cost == 0 else \"down\"},\n            {\"id\": \"return\", \"label\": \"Verhuurpotentie\", \"value\": f\"\u20ac {int(size_val * 22.5):,}\", \"icon\": \"trending-up\", \"trend\": \"up\"}\n        ]\n        # New metrics (additive)\n        if market_avg_m2:\n            price_dev_pct = round(((price_m2 - market_avg_m2) / market_avg_m2) * 100)\n            metrics.append({\"id\": \"price_deviation\", \"label\": \"Prijsafwijking %\", \"value\": f\"{price_dev_pct:+,}%\" if price_dev_pct != 0 else \"0%\", \"icon\": \"trend-up\" if price_dev_pct > 0 else \"trend-down\" if price_dev_pct < 0 else \"neutral\", \"trend\": \"up\" if price_dev_pct > 0 else \"down\" if price_dev_pct < 0 else \"neutral\", \"trend_text\": f\"{price_dev_pct:+}% vs markt\"})\n        future_score = 80 if label in [\"A\", \"A+\", \"A++\", \"B\"] else 60 if label in [\"C\", \"D\"] else 40\n        metrics.append({\"id\": \"energy_future\", \"label\": \"Energie Toekomstscore\", \"value\": f\"{future_score}\", \"icon\": \"leaf\", \"color\": \"green\" if future_score >= 70 else \"orange\" if future_score >= 50 else \"red\", \"trend\": \"neutral\"})\n        maintenance = \"Hoog\" if reno_cost > 30000 else \"Middelmatig\" if reno_cost > 0 else \"Laag\"\n        metrics.append({\"id\": \"maintenance_intensity\", \"label\": \"Onderhoudsintensiteit\", \"value\": maintenance, \"icon\": \"hammer\", \"trend\": \"neutral\"})\n>       family = \"Geschikt voor gezin\" if size_val >= 120 and len(pros) > 0 else \"Minder geschikt voor groot gezin\"\n                                                                  ^^^^\nE       UnboundLocalError: cannot access local variable 'pros' where it is not associated with a value\n\nbackend/chapters/chapter_0.py:111: UnboundLocalError\n_ TestDynamicChapters.test_all_chapters_generate_modern_dashboard (chapter=1) __\n\nself = <tests.unit.test_dynamic_chapters.TestDynamicChapters testMethod=test_all_chapters_generate_modern_dashboard>\n\n    def test_all_chapters_generate_modern_dashboard(self):\n        \"\"\"\n        Verifies that all chapters (1-12) return a ChapterOutput\n        with the 'modern_dashboard' layout type and essential keys.\n        \"\"\"\n        for i, cls in enumerate(self.chapters, 1):\n            with self.subTest(chapter=i):\n                instance = cls(self.context)\n                output = instance.generate()\n    \n                # Check Type\n                self.assertIsInstance(output, ChapterOutput)\n    \n                # Check Layout Structure\n                layout = output.grid_layout\n                self.assertIsInstance(layout, dict)\n                self.assertEqual(layout.get(\"layout_type\"), \"modern_dashboard\", f\"Chapter {i} incorrect layout\")\n    \n                # Check Essential Sections\n                self.assertIn(\"hero\", layout)\n                self.assertIn(\"metrics\", layout)\n                self.assertIn(\"main\", layout)\n                self.assertIn(\"sidebar\", layout)\n    \n                # Check Metrics format\n                self.assertIsInstance(layout[\"metrics\"], list)\n                self.assertTrue(len(layout[\"metrics\"]) > 0)\n    \n                # Check Main Content\n                main_content = layout[\"main\"].get(\"content\", \"\")\n>               self.assertIn(\"chapter-intro\", main_content)\nE               AssertionError: 'chapter-intro' not found in '\\n        <div class=\"introduction text-lg font-medium text-slate-600 mb-6\">\\n            Voor de woning aan de Testlaan 99, 1234 AB, AI-Stad hebben we een diepgaande analyse uitgevoerd van de fysieke eigenschappen. Met een woonoppervlakte van 145 m\u00b2 en een perceel van 300 m\u00b2 spreken we van een courant object.\\n        </div>\\n        \\n        <div class=\"analysis-section prose mb-6\">\\n            \\n        <p>De verhouding tussen wonen en perceel bedraagt circa 48%. \\n        Dit geeft aan dat de woning vrij gelegen is met veel ruimte rondom.\\n        Het bouwjaar 1995 plaatst het object in een periode waarin moderne bouwtechnieken hun intrede deden.</p>\\n        \\n        <p>Op basis van het volume schatten we een inhoud van circa 435 m\u00b3, wat mogelijkheden biedt voor 5 functionele kamers.</p>\\n        \\n        </div>\\n\\n        \\n\\n        \\n            <div class=\"ai-card info\">\\n                <h4 class=\"ai-card-title\"><ion-icon name=\"analytics\"></ion-icon> AI Interpretatie</h4>\\n                <div class=\"text-slate-600\">\\n        <p>Dit betreft een marktconform woning die duidelijk positie kiest in het middensegment. \\n        De combinatie van 145 m\u00b2 woonoppervlakte op een perceel van 300 m\u00b2 is in balans. \\n        Het volume en de indeling suggereren een gebruik als praktische eengezinswoning met voldoende ruimte.</p>\\n        </div>\\n            </div>\\n            \\n        <div class=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\\n            \\n            \\n            <div class=\"ai-card warning\">\\n                <h4 class=\"ai-card-title\"><ion-icon name=\"warning\"></ion-icon> Aandachtspunten</h4>\\n                <div class=\\'text-slate-600\\'><ul><li>Geen directe bouwkundige aandachtspunten op basis van deze data.</li></ul></div>\\n            </div>\\n            \\n        </div>\\n        \\n        \\n            <div class=\"ai-card dark\">\\n                <h4 class=\"ai-card-title\"><ion-icon name=\"ribbon\"></ion-icon> Conclusie</h4>\\n                <div style=\"opacity:0.9\"><strong>Conclusie:</strong> Een marktconform object met veel ontwikkelpotentie.</div>\\n            </div>\\n            \\n        '\n\nbackend/tests/unit/test_dynamic_chapters.py:73: AssertionError\n_ TestDynamicChapters.test_all_chapters_generate_modern_dashboard (chapter=2) __\n\nself = <tests.unit.test_dynamic_chapters.TestDynamicChapters testMethod=test_all_chapters_generate_modern_dashboard>\n\n    def test_all_chapters_generate_modern_dashboard(self):\n        \"\"\"\n        Verifies that all chapters (1-12) return a ChapterOutput\n        with the 'modern_dashboard' layout type and essential keys.\n        \"\"\"\n        for i, cls in enumerate(self.chapters, 1):\n            with self.subTest(chapter=i):\n                instance = cls(self.context)\n                output = instance.generate()\n    \n                # Check Type\n                self.assertIsInstance(output, ChapterOutput)\n    \n                # Check Layout Structure\n                layout = output.grid_layout\n                self.assertIsInstance(layout, dict)\n                self.assertEqual(layout.get(\"layout_type\"), \"modern_dashboard\", f\"Chapter {i} incorrect layout\")\n    \n                # Check Essential Sections\n                self.assertIn(\"hero\", layout)\n                self.assertIn(\"metrics\", layout)\n                self.assertIn(\"main\", layout)\n                self.assertIn(\"sidebar\", layout)\n    \n                # Check Metrics format\n                self.assertIsInstance(layout[\"metrics\"], list)\n                self.assertTrue(len(layout[\"metrics\"]) > 0)\n    \n                # Check Main Content\n                main_content = layout[\"main\"].get(\"content\", \"\")\n>               self.assertIn(\"chapter-intro\", main_content)\nE               AssertionError: 'chapter-intro' not found in '\\n        <div class=\"introduction text-lg font-medium text-slate-600 mb-6\">\\n            Op basis van de aangescherpte profielen van Marcel (Tech & Infra) en Petra (Sfeer & Comfort) scoort deze woning een match van 50%.\\n        </div>\\n        \\n        <div class=\"analysis-section prose mb-6\">\\n            <h4>Marcel\\'s Tech-Check</h4><ul><li>Geen directe tech-hits in de omschrijving.</li></ul><h4>Petra\\'s Woonwensen</h4><ul><li>Geen specifieke stijlkenmerken herkend in de tekst.</li></ul>\\n        </div>\\n\\n        \\n        <div class=\"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6\">\\n            <div class=\"bg-white p-4 rounded-xl border border-slate-100 shadow-sm flex flex-col items-center text-center\">\\n                <div class=\"w-10 h-10 bg-blue-50 text-blue-600 rounded-full flex items-center justify-center mb-2 text-xl\"><ion-icon name=\"cart\"></ion-icon></div>\\n                <div class=\"font-bold text-slate-700\">Supermarkt</div>\\n                <div class=\"text-xs text-green-600 font-bold mt-1\">8.5 Score</div>\\n            </div>\\n            <div class=\"bg-white p-4 rounded-xl border border-slate-100 shadow-sm flex flex-col items-center text-center\">\\n                <div class=\"w-10 h-10 bg-indigo-50 text-indigo-600 rounded-full flex items-center justify-center mb-2 text-xl\"><ion-icon name=\"train\"></ion-icon></div>\\n                <div class=\"font-bold text-slate-700\">OV</div>\\n                <div class=\"text-xs text-green-600 font-bold mt-1\">7.0 Score</div>\\n            </div>\\n            <div class=\"bg-white p-4 rounded-xl border border-slate-100 shadow-sm flex flex-col items-center text-center\">\\n                <div class=\"w-10 h-10 bg-orange-50 text-orange-600 rounded-full flex items-center justify-center mb-2 text-xl\"><ion-icon name=\"school\"></ion-icon></div>\\n                <div class=\"font-bold text-slate-700\">Scholen</div>\\n                <div class=\"text-xs text-green-600 font-bold mt-1\">9.0 Score</div>\\n            </div>\\n            <div class=\"bg-white p-4 rounded-xl border border-slate-100 shadow-sm flex flex-col items-center text-center\">\\n                 <div class=\"w-10 h-10 bg-rose-50 text-rose-600 rounded-full flex items-center justify-center mb-2 text-xl\"><ion-icon name=\"restaurant\"></ion-icon></div>\\n                <div class=\"font-bold text-slate-700\">Horeca</div>\\n                <div class=\"text-xs text-green-600 font-bold mt-1\">8.0 Score</div>\\n            </div>\\n        </div>\\n        \\n\\n        \\n            <div class=\"ai-card info\">\\n                <h4 class=\"ai-card-title\"><ion-icon name=\"analytics\"></ion-icon> AI Interpretatie</h4>\\n                <div class=\"text-slate-600\">\\n        <p>De woning sluit voor <strong>Petra</strong> op papier het beste aan. \\n        De technische basisvoorzieningen vragen nader onderzoek.\\n        De woning kan met de juiste styling naar wens worden gemaakt.</p>\\n        </div>\\n            </div>\\n            \\n        <div class=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\\n            \\n            \\n            <div class=\"ai-card warning\">\\n                <h4 class=\"ai-card-title\"><ion-icon name=\"warning\"></ion-icon> Aandachtspunten</h4>\\n                <div class=\\'text-slate-600\\'><ul></ul></div>\\n            </div>\\n            \\n        </div>\\n        \\n        \\n            <div class=\"ai-card dark\">\\n                <h4 class=\"ai-card-title\"><ion-icon name=\"ribbon\"></ion-icon> Conclusie</h4>\\n                <div style=\"opacity:0.9\"><strong>Conclusie:</strong> Een 50% match. Voldoet aan de basis, maar concessies zijn nodig.</div>\\n            </div>\\n            \\n        '\n\nbackend/tests/unit/test_dynamic_chapters.py:73: AssertionError\n_ TestDynamicChapters.test_all_chapters_generate_modern_dashboard (chapter=3) __\n\nself = <tests.unit.test_dynamic_chapters.TestDynamicChapters testMethod=test_all_chapters_generate_modern_dashboard>\n\n    def test_all_chapters_generate_modern_dashboard(self):\n        \"\"\"\n        Verifies that all chapters (1-12) return a ChapterOutput\n        with the 'modern_dashboard' layout type and essential keys.\n        \"\"\"\n        for i, cls in enumerate(self.chapters, 1):\n            with self.subTest(chapter=i):\n                instance = cls(self.context)\n                output = instance.generate()\n    \n                # Check Type\n                self.assertIsInstance(output, ChapterOutput)\n    \n                # Check Layout Structure\n                layout = output.grid_layout\n                self.assertIsInstance(layout, dict)\n                self.assertEqual(layout.get(\"layout_type\"), \"modern_dashboard\", f\"Chapter {i} incorrect layout\")\n    \n                # Check Essential Sections\n                self.assertIn(\"hero\", layout)\n                self.assertIn(\"metrics\", layout)\n                self.assertIn(\"main\", layout)\n                self.assertIn(\"sidebar\", layout)\n    \n                # Check Metrics format\n                self.assertIsInstance(layout[\"metrics\"], list)\n                self.assertTrue(len(layout[\"metrics\"]) > 0)\n    \n                # Check Main Content\n                main_content = layout[\"main\"].get(\"content\", \"\")\n>               self.assertIn(\"chapter-intro\", main_content)\nE               AssertionError: 'chapter-intro' not found in '\\n        <div class=\"introduction text-lg font-medium text-slate-600 mb-6\">\\n            Met een oorsprong in 1995 draagt dit pand een specifieke bouwkundige signatuur.\\n        </div>\\n        \\n        <div class=\"analysis-section prose mb-6\">\\n            \\n        <p>De constructieve staat oogt op basis van de kerngegevens solide. \\n        Gezien het recente bouwjaar verwachten we geen structurele gebreken.</p>\\n        <p>Dak & Gevel: De levensduur van dakpannen is ca. 40-50 jaar. Bij dit object is 30 jaar geleden theoretisch vervanging/groot onderhoud nodig geweest.</p>\\n        \\n        </div>\\n\\n        \\n        <div class=\"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6\">\\n            <div class=\"bg-amber-50 border border-amber-200 p-4 rounded-xl\">\\n                <div class=\"font-bold text-amber-800 flex items-center gap-2 mb-2\"><ion-icon name=\"water\"></ion-icon> Fundering/Vocht</div>\\n                <div class=\"text-sm text-slate-700\">Aandachtspunt bij bouwjaar < 1980. Let op optrekkend vocht.</div>\\n            </div>\\n            <div class=\"bg-blue-50 border border-blue-200 p-4 rounded-xl\">\\n                <div class=\"font-bold text-blue-800 flex items-center gap-2 mb-2\"><ion-icon name=\"snow\"></ion-icon> Isolatie</div>\\n                <div class=\"text-sm text-slate-700\">Controleer na-isolatie maatregelen (spouw, vloer).</div>\\n            </div>\\n            <div class=\"bg-slate-50 border border-slate-200 p-4 rounded-xl\">\\n                <div class=\"font-bold text-slate-800 flex items-center gap-2 mb-2\"><ion-icon name=\"flash\"></ion-icon> Installaties</div>\\n                <div class=\"text-sm text-slate-700\">Leeftijd CV-ketel en staat van elektra (groepenkast) controleren.</div>\\n            </div>\\n        </div>\\n        \\n\\n        \\n            <div class=\"ai-card info\">\\n                <h4 class=\"ai-card-title\"><ion-icon name=\"analytics\"></ion-icon> AI Interpretatie</h4>\\n                <div class=\"text-slate-600\">\\n        <p>Het pand is gebouwd met de kwaliteitsnormen van 1995. Dit betekent dat modernisering naar huidige maatstaven een noodzaak is.\\n        De bouwkundige structuur lijkt standaard.</p>\\n        </div>\\n            </div>\\n            \\n        <div class=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\\n            \\n            <div class=\"ai-card success\">\\n                <h4 class=\"ai-card-title\"><ion-icon name=\"thumbs-up\"></ion-icon> Sterke Punten</h4>\\n                <ul class=\"ai-list\"><li><ion-icon name=\\'checkmark-circle\\' style=\\'color:#10b981\\'></ion-icon> <span>Modern bouwbesluit (bouwtechnisch veilig)</span></li></ul>\\n            </div>\\n            \\n            \\n            <div class=\"ai-card warning\">\\n                <h4 class=\"ai-card-title\"><ion-icon name=\"warning\"></ion-icon> Aandachtspunten</h4>\\n                <div class=\\'text-slate-600\\'><ul><li>Bouwkundige keuring is aanbevolen.</li></ul></div>\\n            </div>\\n            \\n        </div>\\n        \\n        \\n            <div class=\"ai-card dark\">\\n                <h4 class=\"ai-card-title\"><ion-icon name=\"ribbon\"></ion-icon> Conclusie</h4>\\n                <div style=\"opacity:0.9\"><strong>Conclusie:</strong> Bouwtechnisch beoordelen we het risico als Laag.</div>\\n            </div>\\n            \\n        '\n\nbackend/tests/unit/test_dynamic_chapters.py:73: AssertionError\n_ TestDynamicChapters.test_all_chapters_generate_modern_dashboard (chapter=4) __\n\nself = <tests.unit.test_dynamic_chapters.TestDynamicChapters testMethod=test_all_chapters_generate_modern_dashboard>\n\n    def test_all_chapters_generate_modern_dashboard(self):\n        \"\"\"\n        Verifies that all chapters (1-12) return a ChapterOutput\n        with the 'modern_dashboard' layout type and essential keys.\n        \"\"\"\n        for i, cls in enumerate(self.chapters, 1):\n            with self.subTest(chapter=i):\n                instance = cls(self.context)\n                output = instance.generate()\n    \n                # Check Type\n                self.assertIsInstance(output, ChapterOutput)\n    \n                # Check Layout Structure\n                layout = output.grid_layout\n                self.assertIsInstance(layout, dict)\n                self.assertEqual(layout.get(\"layout_type\"), \"modern_dashboard\", f\"Chapter {i} incorrect layout\")\n    \n                # Check Essential Sections\n                self.assertIn(\"hero\", layout)\n                self.assertIn(\"metrics\", layout)\n                self.assertIn(\"main\", layout)\n                self.assertIn(\"sidebar\", layout)\n    \n                # Check Metrics format\n                self.assertIsInstance(layout[\"metrics\"], list)\n                self.assertTrue(len(layout[\"metrics\"]) > 0)\n    \n                # Check Main Content\n                main_content = layout[\"main\"].get(\"content\", \"\")\n>               self.assertIn(\"chapter-intro\", main_content)\nE               AssertionError: 'chapter-intro' not found in '\\n        <div class=\"introduction text-lg font-medium text-slate-600 mb-6\">\\n            Duurzaamheid is key voor waardebehoud. Met energielabel C scoort deze woning onder de moderne standaard.\\n        </div>\\n        \\n        <div class=\"analysis-section prose mb-6\">\\n            \\n        <p>Het huidige label impliceert dat er nog winst te behalen valt. \\n        Voor een woning uit 1995 is dit label volgens verwachting.</p>\\n        <p>Besparingspotentieel: Het isoleren van schil (dak/vloer/gevel) is de eerste stap naar lagere lasten.</p>\\n        \\n        </div>\\n\\n        \\n        <h4 class=\"font-bold text-slate-700 mb-4 flex items-center gap-2\"><ion-icon name=\"leaf\"></ion-icon> Verduurzamingskansen</h4>\\n        <div class=\"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6\">\\n            <div class=\"bg-green-50 border border-green-200 p-4 rounded-xl flex flex-col justify-between\">\\n                <div>\\n                   <div class=\"font-bold text-green-800 mb-1\">Zonnepanelen</div>\\n                   <div class=\"text-sm text-slate-600\">Geschikt dakvlak aanwezig.</div>\\n                </div>\\n                <div class=\"mt-3 text-green-700 font-bold text-sm\">~\u20ac850 besparing/jr</div>\\n            </div>\\n            <div class=\"bg-green-50 border border-green-200 p-4 rounded-xl flex flex-col justify-between\">\\n                <div>\\n                   <div class=\"font-bold text-green-800 mb-1\">Hybride Warmtepomp</div>\\n                   <div class=\"text-sm text-slate-600\">Combineer met HR-ketel.</div>\\n                </div>\\n                <div class=\"mt-3 text-green-700 font-bold text-sm\">Tot 70% minder gas</div>\\n            </div>\\n            <div class=\"bg-green-50 border border-green-200 p-4 rounded-xl flex flex-col justify-between\">\\n                <div>\\n                   <div class=\"font-bold text-green-800 mb-1\">Vloerisolatie</div>\\n                   <div class=\"text-sm text-slate-600\">Verhoogt comfort direct.</div>\\n                </div>\\n                <div class=\"mt-3 text-green-700 font-bold text-sm\">~15% besparing</div>\\n            </div>\\n        </div>\\n        \\n\\n        \\n            <div class=\"ai-card info\">\\n                <h4 class=\"ai-card-title\"><ion-icon name=\"analytics\"></ion-icon> AI Interpretatie</h4>\\n                <div class=\"text-slate-600\">\\n        <p>De woning blijft achter bij de huidige duurzaamheidseisen.\\n        Met het oog op de gasloze toekomst is een investeringsplan noodzakelijk.</p>\\n        </div>\\n            </div>\\n            \\n        <div class=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\\n            \\n            <div class=\"ai-card success\">\\n                <h4 class=\"ai-card-title\"><ion-icon name=\"thumbs-up\"></ion-icon> Sterke Punten</h4>\\n                <ul class=\"ai-list\"><li><ion-icon name=\\'checkmark-circle\\' style=\\'color:#10b981\\'></ion-icon> <span>Dakligging geschikt voor zonnepanelen (check ori\u00ebntatie)</span></li></ul>\\n            </div>\\n            \\n            \\n            <div class=\"ai-card warning\">\\n                <h4 class=\"ai-card-title\"><ion-icon name=\"warning\"></ion-icon> Aandachtspunten</h4>\\n                <div class=\\'text-slate-600\\'><ul><li>Overweeg na-isolatie van spouw en dak.</li><li>Onderzoek mogelijkheden voor warmtepomp/zonnepanelen.</li></ul></div>\\n            </div>\\n            \\n        </div>\\n        \\n        \\n            <div class=\"ai-card dark\">\\n                <h4 class=\"ai-card-title\"><ion-icon name=\"ribbon\"></ion-icon> Conclusie</h4>\\n                <div style=\"opacity:0.9\"><strong>Conclusie:</strong> C-label geeft een duidelijke renovatieopgave.</div>\\n            </div>\\n            \\n        '\n\nbackend/tests/unit/test_dynamic_chapters.py:73: AssertionError\n_ TestDynamicChapters.test_all_chapters_generate_modern_dashboard (chapter=5) __\n\nself = <tests.unit.test_dynamic_chapters.TestDynamicChapters testMethod=test_all_chapters_generate_modern_dashboard>\n\n    def test_all_chapters_generate_modern_dashboard(self):\n        \"\"\"\n        Verifies that all chapters (1-12) return a ChapterOutput\n        with the 'modern_dashboard' layout type and essential keys.\n        \"\"\"\n        for i, cls in enumerate(self.chapters, 1):\n            with self.subTest(chapter=i):\n                instance = cls(self.context)\n                output = instance.generate()\n    \n                # Check Type\n                self.assertIsInstance(output, ChapterOutput)\n    \n                # Check Layout Structure\n                layout = output.grid_layout\n                self.assertIsInstance(layout, dict)\n                self.assertEqual(layout.get(\"layout_type\"), \"modern_dashboard\", f\"Chapter {i} incorrect layout\")\n    \n                # Check Essential Sections\n                self.assertIn(\"hero\", layout)\n                self.assertIn(\"metrics\", layout)\n                self.assertIn(\"main\", layout)\n                self.assertIn(\"sidebar\", layout)\n    \n                # Check Metrics format\n                self.assertIsInstance(layout[\"metrics\"], list)\n                self.assertTrue(len(layout[\"metrics\"]) > 0)\n    \n                # Check Main Content\n                main_content = layout[\"main\"].get(\"content\", \"\")\n>               self.assertIn(\"chapter-intro\", main_content)\nE               AssertionError: 'chapter-intro' not found in '\\n        <div class=\"introduction text-lg font-medium text-slate-600 mb-6\">\\n            Met 145 m\u00b2 gebruiksoppervlakte biedt deze woning ruimte aan diverse leefscenario\\'s.\\n        </div>\\n        \\n        <div class=\"analysis-section prose mb-6\">\\n            \\n        <p>De indeling faciliteren naar schatting 5 leefruimtes. \\n        Dit is ideaal voor een gezin. \\n        De flow van de woning kan bij oudere won (1995) soms hokkerig zijn; overweeg het doorbreken van een wand voor een open concept.</p>\\n        \\n        </div>\\n\\n        \\n        <div class=\"feature-list\">\\n            <div class=\"feature-item\">\\n                <span class=\"icon\">\ud83d\udcd0</span>\\n                <span class=\"text\"><strong>Woonkamer:</strong> Centraal element, check lichtinval en zichtlijnen.</span>\\n            </div>\\n            <div class=\"feature-item\">\\n                <span class=\"icon\">\ud83c\udf73</span>\\n                <span class=\"text\"><strong>Keuken:</strong> Mogelijkheden voor open keuken of kookeiland? Bekijk de plattegrond.</span>\\n            </div>\\n        </div>\\n        \\n\\n        \\n            <div class=\"ai-card info\">\\n                <h4 class=\"ai-card-title\"><ion-icon name=\"analytics\"></ion-icon> AI Interpretatie</h4>\\n                <div class=\"text-slate-600\"><p>De m\u00b2 zijn ruim verdeeld. De woning biedt veel flexibiliteit voor thuiswerken of gezinsuitbreiding.</p></div>\\n            </div>\\n            \\n        <div class=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\\n            \\n            <div class=\"ai-card success\">\\n                <h4 class=\"ai-card-title\"><ion-icon name=\"thumbs-up\"></ion-icon> Sterke Punten</h4>\\n                <ul class=\"ai-list\"><li><ion-icon name=\\'checkmark-circle\\' style=\\'color:#10b981\\'></ion-icon> <span>Woonoppervlakte 145 m\u00b2</span></li><li><ion-icon name=\\'checkmark-circle\\' style=\\'color:#10b981\\'></ion-icon> <span>Potentieel 5 kamers</span></li></ul>\\n            </div>\\n            \\n            \\n            <div class=\"ai-card warning\">\\n                <h4 class=\"ai-card-title\"><ion-icon name=\"warning\"></ion-icon> Aandachtspunten</h4>\\n                <div class=\\'text-slate-600\\'><ul><li>Beoordeel de dragende wanden bij herindeling.</li><li>Kijk naar mogelijkheden voor open keuken.</li></ul></div>\\n            </div>\\n            \\n        </div>\\n        \\n        \\n            <div class=\"ai-card dark\">\\n                <h4 class=\"ai-card-title\"><ion-icon name=\"ribbon\"></ion-icon> Conclusie</h4>\\n                <div style=\"opacity:0.9\"><strong>Conclusie:</strong> Functioneel en flexibel in te delen.</div>\\n            </div>\\n            \\n        '\n\nbackend/tests/unit/test_dynamic_chapters.py:73: AssertionError\n_ TestDynamicChapters.test_all_chapters_generate_modern_dashboard (chapter=6) __\n\nself = <tests.unit.test_dynamic_chapters.TestDynamicChapters testMethod=test_all_chapters_generate_modern_dashboard>\n\n    def test_all_chapters_generate_modern_dashboard(self):\n        \"\"\"\n        Verifies that all chapters (1-12) return a ChapterOutput\n        with the 'modern_dashboard' layout type and essential keys.\n        \"\"\"\n        for i, cls in enumerate(self.chapters, 1):\n            with self.subTest(chapter=i):\n                instance = cls(self.context)\n                output = instance.generate()\n    \n                # Check Type\n                self.assertIsInstance(output, ChapterOutput)\n    \n                # Check Layout Structure\n                layout = output.grid_layout\n                self.assertIsInstance(layout, dict)\n                self.assertEqual(layout.get(\"layout_type\"), \"modern_dashboard\", f\"Chapter {i} incorrect layout\")\n    \n                # Check Essential Sections\n                self.assertIn(\"hero\", layout)\n                self.assertIn(\"metrics\", layout)\n                self.assertIn(\"main\", layout)\n                self.assertIn(\"sidebar\", layout)\n    \n                # Check Metrics format\n                self.assertIsInstance(layout[\"metrics\"], list)\n                self.assertTrue(len(layout[\"metrics\"]) > 0)\n    \n                # Check Main Content\n                main_content = layout[\"main\"].get(\"content\", \"\")\n>               self.assertIn(\"chapter-intro\", main_content)\nE               AssertionError: 'chapter-intro' not found in '\\n        <div class=\"introduction text-lg font-medium text-slate-600 mb-6\">\\n            De staat van onderhoud en het afwerkingsniveau bepalen direct uw verhuisbudget.\\n        </div>\\n        \\n        <div class=\"analysis-section prose mb-6\">\\n            \\n        <p>Op de foto\\'s (indien geanalyseerd) en data baseren we dat u rekening moet houden met modernisering. \\n        Keukens en badkamers gaan gemiddeld 15 jaar mee. Bij bouwjaar 1995 zit u nu in de 3e levenscyclus van het sanitair.</p>\\n        \\n        </div>\\n\\n        \\n        <table class=\"simple-table\">\\n            <thead><tr><th>Onderdeel</th><th>Verwachte Staat</th><th>Actie</th></tr></thead>\\n            <tbody>\\n                <tr><td>Kozijnen</td><td>Kunststof/Alu (goed)</td><td>Inspectie</td></tr>\\n                <tr><td>Keukenapparatuur</td><td>Afschrijving 10-15 jr</td><td>Testen</td></tr>\\n                <tr><td>Wandafwerking</td><td>Esthetisch</td><td>Schilderen</td></tr>\\n            </tbody>\\n        </table>\\n        \\n\\n        \\n            <div class=\"ai-card info\">\\n                <h4 class=\"ai-card-title\"><ion-icon name=\"analytics\"></ion-icon> AI Interpretatie</h4>\\n                <div class=\"text-slate-600\"><p>Het afwerkingsniveau lijkt basis. Houd rekening met een budget voor vloeren en wanden.</p></div>\\n            </div>\\n            \\n        <div class=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\\n            \\n            <div class=\"ai-card success\">\\n                <h4 class=\"ai-card-title\"><ion-icon name=\"thumbs-up\"></ion-icon> Sterke Punten</h4>\\n                <ul class=\"ai-list\"><li><ion-icon name=\\'checkmark-circle\\' style=\\'color:#10b981\\'></ion-icon> <span>Basis lijkt solide</span></li></ul>\\n            </div>\\n            \\n            \\n            <div class=\"ai-card warning\">\\n                <h4 class=\"ai-card-title\"><ion-icon name=\"warning\"></ion-icon> Aandachtspunten</h4>\\n                <div class=\\'text-slate-600\\'><ul><li>Maak een kostenraming voor direct noodzakelijk onderhoud.</li><li>Check leeftijd CV-ketel en apparatuur.</li></ul></div>\\n            </div>\\n            \\n        </div>\\n        \\n        \\n            <div class=\"ai-card dark\">\\n                <h4 class=\"ai-card-title\"><ion-icon name=\"ribbon\"></ion-icon> Conclusie</h4>\\n                <div style=\"opacity:0.9\"><strong>Conclusie:</strong> Reserveer budget voor modernisering.</div>\\n            </div>\\n            \\n        '\n\nbackend/tests/unit/test_dynamic_chapters.py:73: AssertionError\n_ TestDynamicChapters.test_all_chapters_generate_modern_dashboard (chapter=7) __\n\nself = <tests.unit.test_dynamic_chapters.TestDynamicChapters testMethod=test_all_chapters_generate_modern_dashboard>\n\n    def test_all_chapters_generate_modern_dashboard(self):\n        \"\"\"\n        Verifies that all chapters (1-12) return a ChapterOutput\n        with the 'modern_dashboard' layout type and essential keys.\n        \"\"\"\n        for i, cls in enumerate(self.chapters, 1):\n            with self.subTest(chapter=i):\n                instance = cls(self.context)\n                output = instance.generate()\n    \n                # Check Type\n                self.assertIsInstance(output, ChapterOutput)\n    \n                # Check Layout Structure\n                layout = output.grid_layout\n                self.assertIsInstance(layout, dict)\n                self.assertEqual(layout.get(\"layout_type\"), \"modern_dashboard\", f\"Chapter {i} incorrect layout\")\n    \n                # Check Essential Sections\n                self.assertIn(\"hero\", layout)\n                self.assertIn(\"metrics\", layout)\n                self.assertIn(\"main\", layout)\n                self.assertIn(\"sidebar\", layout)\n    \n                # Check Metrics format\n                self.assertIsInstance(layout[\"metrics\"], list)\n                self.assertTrue(len(layout[\"metrics\"]) > 0)\n    \n                # Check Main Content\n                main_content = layout[\"main\"].get(\"content\", \"\")\n>               self.assertIn(\"chapter-intro\", main_content)\nE               AssertionError: 'chapter-intro' not found in '\\n        <div class=\"introduction text-lg font-medium text-slate-600 mb-6\">\\n            Een eigen buitenruimte is een verlengstuk van de woonkamer.\\n        </div>\\n        \\n        <div class=\"analysis-section prose mb-6\">\\n            \\n        <p>Met circa 227 m\u00b2 aan onbebouwde grond (schatting) is er volop ruimte voor tuinieren en recratie.\\n        De privacy en zonligging moeten ter plaatse geverifieerd worden, maar de perceelgrootte is veelbelovend.</p>\\n        \\n        </div>\\n\\n        \\n        <div class=\"sun-path-widget\">\\n            <div class=\"sun-icon\">\u2600\ufe0f</div>\\n            <div class=\"sun-text\"><strong>Zoncheck:</strong> Open kompas-app tijdens bezichtiging. Zuid/Zuid-West is ideaal voor middag/avondzon.</div>\\n        </div>\\n        \\n\\n        \\n            <div class=\"ai-card info\">\\n                <h4 class=\"ai-card-title\"><ion-icon name=\"analytics\"></ion-icon> AI Interpretatie</h4>\\n                <div class=\"text-slate-600\"><p>De tuin biedt veel privacy. De verhouding steen/groen is gunstig.</p></div>\\n            </div>\\n            \\n        <div class=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\\n            \\n            <div class=\"ai-card success\">\\n                <h4 class=\"ai-card-title\"><ion-icon name=\"thumbs-up\"></ion-icon> Sterke Punten</h4>\\n                <ul class=\"ai-list\"><li><ion-icon name=\\'checkmark-circle\\' style=\\'color:#10b981\\'></ion-icon> <span>Royale tuin</span></li></ul>\\n            </div>\\n            \\n            \\n            <div class=\"ai-card warning\">\\n                <h4 class=\"ai-card-title\"><ion-icon name=\"warning\"></ion-icon> Aandachtspunten</h4>\\n                <div class=\\'text-slate-600\\'><ul><li>Controleer de zonnestand op uw favoriete momenten.</li><li>Let op inkijk van buren.</li></ul></div>\\n            </div>\\n            \\n        </div>\\n        \\n        \\n            <div class=\"ai-card dark\">\\n                <h4 class=\"ai-card-title\"><ion-icon name=\"ribbon\"></ion-icon> Conclusie</h4>\\n                <div style=\"opacity:0.9\"><strong>Conclusie:</strong> Buitenruimte is een sterke asset bij dit object.</div>\\n            </div>\\n            \\n        '\n\nbackend/tests/unit/test_dynamic_chapters.py:73: AssertionError\n_ TestDynamicChapters.test_all_chapters_generate_modern_dashboard (chapter=8) __\n\nself = <tests.unit.test_dynamic_chapters.TestDynamicChapters testMethod=test_all_chapters_generate_modern_dashboard>\n\n    def test_all_chapters_generate_modern_dashboard(self):\n        \"\"\"\n        Verifies that all chapters (1-12) return a ChapterOutput\n        with the 'modern_dashboard' layout type and essential keys.\n        \"\"\"\n        for i, cls in enumerate(self.chapters, 1):\n            with self.subTest(chapter=i):\n                instance = cls(self.context)\n                output = instance.generate()\n    \n                # Check Type\n                self.assertIsInstance(output, ChapterOutput)\n    \n                # Check Layout Structure\n                layout = output.grid_layout\n                self.assertIsInstance(layout, dict)\n                self.assertEqual(layout.get(\"layout_type\"), \"modern_dashboard\", f\"Chapter {i} incorrect layout\")\n    \n                # Check Essential Sections\n                self.assertIn(\"hero\", layout)\n                self.assertIn(\"metrics\", layout)\n                self.assertIn(\"main\", layout)\n                self.assertIn(\"sidebar\", layout)\n    \n                # Check Metrics format\n                self.assertIsInstance(layout[\"metrics\"], list)\n                self.assertTrue(len(layout[\"metrics\"]) > 0)\n    \n                # Check Main Content\n                main_content = layout[\"main\"].get(\"content\", \"\")\n>               self.assertIn(\"chapter-intro\", main_content)\nE               AssertionError: 'chapter-intro' not found in '\\n        <div class=\"introduction text-lg font-medium text-slate-600 mb-6\">\\n            Bereikbaarheid en mobiliteit zijn cruciaal voor dagelijks comfort.\\n        </div>\\n        \\n        <div class=\"analysis-section prose mb-6\">\\n            \\n        <p>De parkeersituatie in deze wijktype vereist vaak een check op vergunningen. \\n        De nabijheid van uitvalswegen en OV lijkt volgens onze kaartanalyse in orde.</p>\\n        \\n        </div>\\n\\n        \\n        <ul class=\"check-list\">\\n            <li>Check parkeervergunning wachttijden bij gemeente.</li>\\n            <li>Is er ruimte voor een laadpaal op eigen terrein?</li>\\n            <li>Hoe druk is de straat tijdens spitsuur?</li>\\n        </ul>\\n        \\n\\n        \\n            <div class=\"ai-card info\">\\n                <h4 class=\"ai-card-title\"><ion-icon name=\"analytics\"></ion-icon> AI Interpretatie</h4>\\n                <div class=\"text-slate-600\"><p>De locatie is goed ontsloten. Voor forenzen is dit een strategische plek.</p></div>\\n            </div>\\n            \\n        <div class=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\\n            \\n            <div class=\"ai-card success\">\\n                <h4 class=\"ai-card-title\"><ion-icon name=\"thumbs-up\"></ion-icon> Sterke Punten</h4>\\n                <ul class=\"ai-list\"><li><ion-icon name=\\'checkmark-circle\\' style=\\'color:#10b981\\'></ion-icon> <span>Goede bereikbaarheid</span></li></ul>\\n            </div>\\n            \\n            \\n            <div class=\"ai-card warning\">\\n                <h4 class=\"ai-card-title\"><ion-icon name=\"warning\"></ion-icon> Aandachtspunten</h4>\\n                <div class=\\'text-slate-600\\'><ul><li>Controleer parkeerbeleid gemeente.</li><li>Test reistijd in de spits.</li></ul></div>\\n            </div>\\n            \\n        </div>\\n        \\n        \\n            <div class=\"ai-card dark\">\\n                <h4 class=\"ai-card-title\"><ion-icon name=\"ribbon\"></ion-icon> Conclusie</h4>\\n                <div style=\"opacity:0.9\"><strong>Conclusie:</strong> Mobiliteitsscore: Voldoende.</div>\\n            </div>\\n            \\n        '\n\nbackend/tests/unit/test_dynamic_chapters.py:73: AssertionError\n_ TestDynamicChapters.test_all_chapters_generate_modern_dashboard (chapter=9) __\n\nself = <tests.unit.test_dynamic_chapters.TestDynamicChapters testMethod=test_all_chapters_generate_modern_dashboard>\n\n    def test_all_chapters_generate_modern_dashboard(self):\n        \"\"\"\n        Verifies that all chapters (1-12) return a ChapterOutput\n        with the 'modern_dashboard' layout type and essential keys.\n        \"\"\"\n        for i, cls in enumerate(self.chapters, 1):\n            with self.subTest(chapter=i):\n                instance = cls(self.context)\n                output = instance.generate()\n    \n                # Check Type\n                self.assertIsInstance(output, ChapterOutput)\n    \n                # Check Layout Structure\n                layout = output.grid_layout\n                self.assertIsInstance(layout, dict)\n                self.assertEqual(layout.get(\"layout_type\"), \"modern_dashboard\", f\"Chapter {i} incorrect layout\")\n    \n                # Check Essential Sections\n                self.assertIn(\"hero\", layout)\n                self.assertIn(\"metrics\", layout)\n                self.assertIn(\"main\", layout)\n                self.assertIn(\"sidebar\", layout)\n    \n                # Check Metrics format\n                self.assertIsInstance(layout[\"metrics\"], list)\n                self.assertTrue(len(layout[\"metrics\"]) > 0)\n    \n                # Check Main Content\n                main_content = layout[\"main\"].get(\"content\", \"\")\n>               self.assertIn(\"chapter-intro\", main_content)\nE               AssertionError: 'chapter-intro' not found in '\\n        <div class=\"introduction text-lg font-medium text-slate-600 mb-6\">\\n            Juridische verrassingen wilt u te allen tijde voorkomen.\\n        </div>\\n        \\n        <div class=\"analysis-section prose mb-6\">\\n            \\n        <p>Controleer altijd het eigendomsbewijs op erfdienstbaarheden. \\n        Is er sprake van eigen grond of erfpacht? Gezien de regio is dit een belangrijk controlepunt.</p>\\n        \\n        </div>\\n\\n        \\n        <div class=\"legal-grid\">\\n            <div class=\"legal-item important\">\\n                <strong>Eigendomssituatie:</strong> Volle eigendom of erfpacht? Bij erfpacht: wat is de canon en looptijd?\\n            </div>\\n            <div class=\"legal-item\">\\n                <strong>Erfdienstbaarheden:</strong> Zijn er rechten van overpad of andere verplichtingen richting buren?\\n            </div>\\n        </div>\\n        \\n\\n        \\n            <div class=\"ai-card info\">\\n                <h4 class=\"ai-card-title\"><ion-icon name=\"analytics\"></ion-icon> AI Interpretatie</h4>\\n                <div class=\"text-slate-600\"><p>Juridisch lijkt dit een standaard object (volle eigendom aangenomen), maar check de kleine lettertjes.</p></div>\\n            </div>\\n            \\n        <div class=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\\n            \\n            <div class=\"ai-card success\">\\n                <h4 class=\"ai-card-title\"><ion-icon name=\"thumbs-up\"></ion-icon> Sterke Punten</h4>\\n                <ul class=\"ai-list\"><li><ion-icon name=\\'checkmark-circle\\' style=\\'color:#10b981\\'></ion-icon> <span>Waarschijnlijk volle eigendom (te verifi\u00ebren)</span></li></ul>\\n            </div>\\n            \\n            \\n            <div class=\"ai-card warning\">\\n                <h4 class=\"ai-card-title\"><ion-icon name=\"warning\"></ion-icon> Aandachtspunten</h4>\\n                <div class=\\'text-slate-600\\'><ul><li>Vraag eigendomsbewijs op.</li><li>Check kadastrale kaart op grenzen.</li></ul></div>\\n            </div>\\n            \\n        </div>\\n        \\n        \\n            <div class=\"ai-card dark\">\\n                <h4 class=\"ai-card-title\"><ion-icon name=\"ribbon\"></ion-icon> Conclusie</h4>\\n                <div style=\"opacity:0.9\"><strong>Conclusie:</strong> Juridische status vergt nader onderzoek bij het kadaster.</div>\\n            </div>\\n            \\n        '\n\nbackend/tests/unit/test_dynamic_chapters.py:73: AssertionError\n_ TestDynamicChapters.test_all_chapters_generate_modern_dashboard (chapter=10) _\n\nself = <tests.unit.test_dynamic_chapters.TestDynamicChapters testMethod=test_all_chapters_generate_modern_dashboard>\n\n    def test_all_chapters_generate_modern_dashboard(self):\n        \"\"\"\n        Verifies that all chapters (1-12) return a ChapterOutput\n        with the 'modern_dashboard' layout type and essential keys.\n        \"\"\"\n        for i, cls in enumerate(self.chapters, 1):\n            with self.subTest(chapter=i):\n                instance = cls(self.context)\n                output = instance.generate()\n    \n                # Check Type\n                self.assertIsInstance(output, ChapterOutput)\n    \n                # Check Layout Structure\n                layout = output.grid_layout\n                self.assertIsInstance(layout, dict)\n                self.assertEqual(layout.get(\"layout_type\"), \"modern_dashboard\", f\"Chapter {i} incorrect layout\")\n    \n                # Check Essential Sections\n                self.assertIn(\"hero\", layout)\n                self.assertIn(\"metrics\", layout)\n                self.assertIn(\"main\", layout)\n                self.assertIn(\"sidebar\", layout)\n    \n                # Check Metrics format\n                self.assertIsInstance(layout[\"metrics\"], list)\n                self.assertTrue(len(layout[\"metrics\"]) > 0)\n    \n                # Check Main Content\n                main_content = layout[\"main\"].get(\"content\", \"\")\n>               self.assertIn(\"chapter-intro\", main_content)\nE               AssertionError: 'chapter-intro' not found in '\\n        <div class=\"introduction text-lg font-medium text-slate-600 mb-6\">\\n            Een nuchtere kijk op de financi\u00ebn.\\n        </div>\\n        \\n        <div class=\"analysis-section prose mb-6\">\\n            \\n        <p>Met een vraagprijs van \u20ac 550,000 komt het totaalplaatje inclusief kosten koper op circa \u20ac 572,000.\\n        De vierkantemeterprijs van \u20ac 3793 ligt in lijn met de huidige markttrends.</p>\\n        \\n        </div>\\n\\n        \\n        <table style=\"width:100%; text-align: left;\">\\n            <tr><td>Overdrachtsbelasting:</td><td>\u20ac 11,000</td></tr>\\n            <tr><td>Notaris:</td><td>\u20ac 1,500</td></tr>\\n            <tr><td>Makelaar:</td><td>\u20ac 8,250</td></tr>\\n            <tr><td><strong>Totaal K.K.:</strong></td><td><strong>\u20ac 20,750</strong></td></tr>\\n        </table>\\n        \\n\\n        \\n            <div class=\"ai-card info\">\\n                <h4 class=\"ai-card-title\"><ion-icon name=\"analytics\"></ion-icon> AI Interpretatie</h4>\\n                <div class=\"text-slate-600\"><p>De vraagprijs lijkt {\\'scherp\\' if d[\\'price\\'] < 500000 else \\'marktconform\\'} gezien de m\u00b2. De TCO (Total Cost of Ownership) zal hoger liggen door energie/onderhoud.</p></div>\\n            </div>\\n            \\n        <div class=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\\n            \\n            <div class=\"ai-card success\">\\n                <h4 class=\"ai-card-title\"><ion-icon name=\"thumbs-up\"></ion-icon> Sterke Punten</h4>\\n                <ul class=\"ai-list\"><li><ion-icon name=\\'checkmark-circle\\' style=\\'color:#10b981\\'></ion-icon> <span>Courante prijsklasse</span></li></ul>\\n            </div>\\n            \\n            \\n            <div class=\"ai-card warning\">\\n                <h4 class=\"ai-card-title\"><ion-icon name=\"warning\"></ion-icon> Aandachtspunten</h4>\\n                <div class=\\'text-slate-600\\'><ul><li>Maak een sluitende financieringsopzet.</li><li>Houd rekening met overbieden in deze markt.</li></ul></div>\\n            </div>\\n            \\n        </div>\\n        \\n        \\n            <div class=\"ai-card dark\">\\n                <h4 class=\"ai-card-title\"><ion-icon name=\"ribbon\"></ion-icon> Conclusie</h4>\\n                <div style=\"opacity:0.9\"><strong>Conclusie:</strong> Financieel haalbaar indien passend binnen leencapaciteit.</div>\\n            </div>\\n            \\n        '\n\nbackend/tests/unit/test_dynamic_chapters.py:73: AssertionError\n_ TestDynamicChapters.test_all_chapters_generate_modern_dashboard (chapter=11) _\n\nself = <tests.unit.test_dynamic_chapters.TestDynamicChapters testMethod=test_all_chapters_generate_modern_dashboard>\n\n    def test_all_chapters_generate_modern_dashboard(self):\n        \"\"\"\n        Verifies that all chapters (1-12) return a ChapterOutput\n        with the 'modern_dashboard' layout type and essential keys.\n        \"\"\"\n        for i, cls in enumerate(self.chapters, 1):\n            with self.subTest(chapter=i):\n                instance = cls(self.context)\n                output = instance.generate()\n    \n                # Check Type\n                self.assertIsInstance(output, ChapterOutput)\n    \n                # Check Layout Structure\n                layout = output.grid_layout\n                self.assertIsInstance(layout, dict)\n                self.assertEqual(layout.get(\"layout_type\"), \"modern_dashboard\", f\"Chapter {i} incorrect layout\")\n    \n                # Check Essential Sections\n                self.assertIn(\"hero\", layout)\n                self.assertIn(\"metrics\", layout)\n                self.assertIn(\"main\", layout)\n                self.assertIn(\"sidebar\", layout)\n    \n                # Check Metrics format\n                self.assertIsInstance(layout[\"metrics\"], list)\n                self.assertTrue(len(layout[\"metrics\"]) > 0)\n    \n                # Check Main Content\n                main_content = layout[\"main\"].get(\"content\", \"\")\n>               self.assertIn(\"chapter-intro\", main_content)\nE               AssertionError: 'chapter-intro' not found in '\\n        <div class=\"introduction text-lg font-medium text-slate-600 mb-6\">\\n            Hoe ligt dit object in de huidige woningmarkt?\\n        </div>\\n        \\n        <div class=\"analysis-section prose mb-6\">\\n            \\n        <p>De marktkoeling lijkt te stabiliseren, wat kansen biedt voor kopers. \\n        Dergelijke objecten hebben doorgaans een looptijd van 2-4 weken.</p>\\n        \\n        </div>\\n\\n        \\n        \\n        <div class=\"market-chart\">\\n            <div class=\"chart-label\">Deze Woning</div>\\n            <div class=\"chart-bar-container\">\\n                <div class=\"chart-bar primary\" style=\"width: 75.86%;\">\u20ac 3793</div>\\n            </div>\\n            \\n            <div class=\"chart-label\">Gemiddeld Wijk</div>\\n             <div class=\"chart-bar-container\">\\n                <div class=\"chart-bar secondary\" style=\"width: 90.0%;\">\u20ac 4500</div>\\n            </div>\\n        </div>\\n        \\n        \\n\\n        \\n            <div class=\"ai-card info\">\\n                <h4 class=\"ai-card-title\"><ion-icon name=\"analytics\"></ion-icon> AI Interpretatie</h4>\\n                <div class=\"text-slate-600\"><p>De gewildheid van dit type woningen is hoog. Snel handelen is geboden.</p></div>\\n            </div>\\n            \\n        <div class=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\\n            \\n            <div class=\"ai-card success\">\\n                <h4 class=\"ai-card-title\"><ion-icon name=\"thumbs-up\"></ion-icon> Sterke Punten</h4>\\n                <ul class=\"ai-list\"><li><ion-icon name=\\'checkmark-circle\\' style=\\'color:#10b981\\'></ion-icon> <span>Hoge verkoopbaarheid</span></li></ul>\\n            </div>\\n            \\n            \\n            <div class=\"ai-card warning\">\\n                <h4 class=\"ai-card-title\"><ion-icon name=\"warning\"></ion-icon> Aandachtspunten</h4>\\n                <div class=\\'text-slate-600\\'><ul><li>Plan direct een bezichtiging.</li><li>Zorg dat uw dossier compleet is.</li></ul></div>\\n            </div>\\n            \\n        </div>\\n        \\n        \\n            <div class=\"ai-card dark\">\\n                <h4 class=\"ai-card-title\"><ion-icon name=\"ribbon\"></ion-icon> Conclusie</h4>\\n                <div style=\"opacity:0.9\"><strong>Conclusie:</strong> Courante woning met goede verkoopbaarheid.</div>\\n            </div>\\n            \\n        '\n\nbackend/tests/unit/test_dynamic_chapters.py:73: AssertionError\n_ TestDynamicChapters.test_all_chapters_generate_modern_dashboard (chapter=12) _\n\nself = <tests.unit.test_dynamic_chapters.TestDynamicChapters testMethod=test_all_chapters_generate_modern_dashboard>\n\n    def test_all_chapters_generate_modern_dashboard(self):\n        \"\"\"\n        Verifies that all chapters (1-12) return a ChapterOutput\n        with the 'modern_dashboard' layout type and essential keys.\n        \"\"\"\n        for i, cls in enumerate(self.chapters, 1):\n            with self.subTest(chapter=i):\n                instance = cls(self.context)\n                output = instance.generate()\n    \n                # Check Type\n                self.assertIsInstance(output, ChapterOutput)\n    \n                # Check Layout Structure\n                layout = output.grid_layout\n                self.assertIsInstance(layout, dict)\n                self.assertEqual(layout.get(\"layout_type\"), \"modern_dashboard\", f\"Chapter {i} incorrect layout\")\n    \n                # Check Essential Sections\n                self.assertIn(\"hero\", layout)\n                self.assertIn(\"metrics\", layout)\n                self.assertIn(\"main\", layout)\n                self.assertIn(\"sidebar\", layout)\n    \n                # Check Metrics format\n                self.assertIsInstance(layout[\"metrics\"], list)\n                self.assertTrue(len(layout[\"metrics\"]) > 0)\n    \n                # Check Main Content\n                main_content = layout[\"main\"].get(\"content\", \"\")\n>               self.assertIn(\"chapter-intro\", main_content)\nE               AssertionError: 'chapter-intro' not found in '\\n        <div class=\"introduction text-lg font-medium text-slate-600 mb-6\">\\n            Alles samenvattend komen we tot het volgende advies.\\n        </div>\\n        \\n        <div class=\"analysis-section prose mb-6\">\\n            \\n        <p>De woning aan de Testlaan 99, 1234 AB, AI-Stad scoort solide op ruimte en locatie. De aandachtspunten op gebied van onderhoud wegen wij mee.</p>\\n        \\n        </div>\\n\\n        \\n\\n        \\n            <div class=\"ai-card info\">\\n                <h4 class=\"ai-card-title\"><ion-icon name=\"analytics\"></ion-icon> AI Interpretatie</h4>\\n                <div class=\"text-slate-600\"><p>Dit object is een {\\'buitenkans\\' if d[\\'plot\\'] > 500 else \\'degelijke aankoop\\'} voor wie zoekt naar kwaliteit en ruimte.</p></div>\\n            </div>\\n            \\n        <div class=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\\n            \\n            <div class=\"ai-card success\">\\n                <h4 class=\"ai-card-title\"><ion-icon name=\"thumbs-up\"></ion-icon> Sterke Punten</h4>\\n                <ul class=\"ai-list\"><li><ion-icon name=\\'checkmark-circle\\' style=\\'color:#10b981\\'></ion-icon> <span>Locatie Testlaan 99, 1234 AB, AI-Stad</span></li><li><ion-icon name=\\'checkmark-circle\\' style=\\'color:#10b981\\'></ion-icon> <span>Potentie</span></li></ul>\\n            </div>\\n            \\n            \\n            <div class=\"ai-card warning\">\\n                <h4 class=\"ai-card-title\"><ion-icon name=\"warning\"></ion-icon> Aandachtspunten</h4>\\n                <div class=\\'text-slate-600\\'><ul><li>Doe een openingsbod gebaseerd op feiten.</li><li>Laat u niet gek maken door emotie.</li></ul></div>\\n            </div>\\n            \\n        </div>\\n        \\n        \\n            <div class=\"ai-card dark\">\\n                <h4 class=\"ai-card-title\"><ion-icon name=\"ribbon\"></ion-icon> Conclusie</h4>\\n                <div style=\"opacity:0.9\"><strong>Conclusie: KOOPWAARDIG (onder voorbehoud keuring).</strong></div>\\n            </div>\\n            \\n        '\n\nbackend/tests/unit/test_dynamic_chapters.py:73: AssertionError\n__________ TestDynamicChapters.test_dynamic_intelligence_integration ___________\n\nself = <tests.unit.test_dynamic_chapters.TestDynamicChapters testMethod=test_dynamic_intelligence_integration>\n\n    def test_dynamic_intelligence_integration(self):\n        \"\"\"\n        Verifies that the Intelligence Engine is actually injecting\n        dynamic content (Conclusion Box, Analysis Section) into the chapters.\n        \"\"\"\n        # Test Chapter 1 as representative\n        instance = Chapter1(self.context)\n        output = instance.generate()\n        content = output.grid_layout[\"main\"][\"content\"]\n    \n>       self.assertIn(\"ai-conclusion-box\", content)\nE       AssertionError: 'ai-conclusion-box' not found in '\\n        <div class=\"introduction text-lg font-medium text-slate-600 mb-6\">\\n            Voor de woning aan de Testlaan 99, 1234 AB, AI-Stad hebben we een diepgaande analyse uitgevoerd van de fysieke eigenschappen. Met een woonoppervlakte van 145 m\u00b2 en een perceel van 300 m\u00b2 spreken we van een courant object.\\n        </div>\\n        \\n        <div class=\"analysis-section prose mb-6\">\\n            \\n        <p>De verhouding tussen wonen en perceel bedraagt circa 48%. \\n        Dit geeft aan dat de woning vrij gelegen is met veel ruimte rondom.\\n        Het bouwjaar 1995 plaatst het object in een periode waarin moderne bouwtechnieken hun intrede deden.</p>\\n        \\n        <p>Op basis van het volume schatten we een inhoud van circa 435 m\u00b3, wat mogelijkheden biedt voor 5 functionele kamers.</p>\\n        \\n        </div>\\n\\n        \\n\\n        \\n            <div class=\"ai-card info\">\\n                <h4 class=\"ai-card-title\"><ion-icon name=\"analytics\"></ion-icon> AI Interpretatie</h4>\\n                <div class=\"text-slate-600\">\\n        <p>Dit betreft een marktconform woning die duidelijk positie kiest in het middensegment. \\n        De combinatie van 145 m\u00b2 woonoppervlakte op een perceel van 300 m\u00b2 is in balans. \\n        Het volume en de indeling suggereren een gebruik als praktische eengezinswoning met voldoende ruimte.</p>\\n        </div>\\n            </div>\\n            \\n        <div class=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\\n            \\n            \\n            <div class=\"ai-card warning\">\\n                <h4 class=\"ai-card-title\"><ion-icon name=\"warning\"></ion-icon> Aandachtspunten</h4>\\n                <div class=\\'text-slate-600\\'><ul><li>Geen directe bouwkundige aandachtspunten op basis van deze data.</li></ul></div>\\n            </div>\\n            \\n        </div>\\n        \\n        \\n            <div class=\"ai-card dark\">\\n                <h4 class=\"ai-card-title\"><ion-icon name=\"ribbon\"></ion-icon> Conclusie</h4>\\n                <div style=\"opacity:0.9\"><strong>Conclusie:</strong> Een marktconform object met veel ontwikkelpotentie.</div>\\n            </div>\\n            \\n        '\n\nbackend/tests/unit/test_dynamic_chapters.py:85: AssertionError\n_______________ TestModernChapter.test_chapter_structure_modern ________________\n\nself = <tests.unit.test_modern_chapter.TestModernChapter testMethod=test_chapter_structure_modern>\n\n    def test_chapter_structure_modern(self):\n        # 1. Mock Data\n        core_data = {\n            \"address\": \"Teststraat 1\",\n            \"asking_price_eur\": \"\u20ac 500.000\",\n            \"living_area_m2\": \"120 m\u00b2\",\n            \"plot_area_m2\": \"300 m\u00b2\",\n            \"build_year\": \"1990\",\n            \"energy_label\": \"B\"\n        }\n    \n        # 2. Run\n        chapters = build_chapters(core_data)\n    \n        # 3. Assert - Check Chapter 1\n        ch1 = chapters[\"1\"]\n        self.assertIn(\"grid_layout\", ch1, \"Chapter 1 should have grid_layout\")\n    \n        layout = ch1[\"grid_layout\"]\n        self.assertIn(\"metrics\", layout)\n        self.assertIn(\"main\", layout)\n        self.assertIn(\"sidebar\", layout)\n    \n    \n        # 4. Check Left Column (KPIs)\n        # Chapter 1 now focuses on Surface areas\n        # 4. Check Metrics (was Left Column)\n        labels = [item[\"label\"] for item in layout[\"metrics\"]]\n        self.assertIn(\"Woonoppervlakte\", labels)\n    \n        # 4b. Verify Chapter 0 exists and has Price\n        ch0 = chapters[\"0\"]\n>       layout0 = ch0[\"grid_layout\"]\n                  ^^^^^^^^^^^^^^^^^^\nE       KeyError: 'grid_layout'\n\nbackend/tests/unit/test_modern_chapter.py:40: KeyError\n------------------------------ Captured log call -------------------------------\nERROR    main:main.py:257 Error generating chapter 0: cannot access local variable 'pros' where it is not associated with a value\n_____________ TestModernDesignCompliance.test_enriched_by_ai_check _____________\n\nself = <tests.unit.test_modern_design_compliance.TestModernDesignCompliance testMethod=test_enriched_by_ai_check>\n\n    def test_enriched_by_ai_check(self):\n        \"\"\"\n        Check for evidence of AI/Logic enrichment.\n        Example: Price per m2 calculation or specific advice generation.\n        \"\"\"\n        # Chapter 0 or 1 usually contains derived metrics\n        ch0 = self.chapters.get(\"0\")\n        if ch0:\n>           layout = ch0[\"grid_layout\"]\n                     ^^^^^^^^^^^^^^^^^^\nE           KeyError: 'grid_layout'\n\nbackend/tests/unit/test_modern_design_compliance.py:110: KeyError\n------------------------------ Captured log call -------------------------------\nERROR    main:main.py:257 Error generating chapter 0: cannot access local variable 'pros' where it is not associated with a value\n_ TestModernDesignCompliance.test_modern_4k_structure_compliance (chapter='Chapter 0 (Executive Summary)') _\n\nself = <tests.unit.test_modern_design_compliance.TestModernDesignCompliance testMethod=test_modern_4k_structure_compliance>\n\n    def test_modern_4k_structure_compliance(self):\n        \"\"\"\n        Check if every chapter follows the 'Modern 4K' layout:\n        - grid_layout structure\n        - Sections: metrics (Top/Left), main (Center), sidebar (Right/Advice)\n        \"\"\"\n        for i in range(13):\n            ch_key = str(i)\n            chapter = self.chapters[ch_key]\n    \n            with self.subTest(chapter=f\"Chapter {i} ({chapter.get('title')})\"):\n                # 1. Structure Check\n>               self.assertIn(\"grid_layout\", chapter, \"Missing grid_layout\")\nE               AssertionError: 'grid_layout' not found in {'title': 'Executive Summary', 'blocks': [{'type': 'compliance', 'level': 'error', 'message': \"Kon hoofdstuk 0 niet genereren: cannot access local variable 'pros' where it is not associated with a value\", 'details': 'Controleer de ingevoerde gegevens of probeer het later opnieuw.'}]} : Missing grid_layout\n\nbackend/tests/unit/test_modern_design_compliance.py:40: AssertionError\n=============================== warnings summary ===============================\nbackend/main.py:157\n  /Users/marcelkurvers/Development/funda-app/ai-woning-rapport-WERKEND-local/backend/main.py:157: DeprecationWarning: \n          on_event is deprecated, use lifespan event handlers instead.\n  \n          Read more about it in the\n          [FastAPI docs for Lifespan Events](https://fastapi.tiangolo.com/advanced/events/).\n          \n    @app.on_event(\"startup\")\n\n../../../../../Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/fastapi/applications.py:4495\n  /Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/fastapi/applications.py:4495: DeprecationWarning: \n          on_event is deprecated, use lifespan event handlers instead.\n  \n          Read more about it in the\n          [FastAPI docs for Lifespan Events](https://fastapi.tiangolo.com/advanced/events/).\n          \n    return self.router.on_event(event_type)\n\nbackend/tests/integration/test_comprehensive.py: 36 warnings\nbackend/tests/integration/test_consistency.py: 60 warnings\nbackend/tests/integration/test_integration.py: 20 warnings\nbackend/tests/integration/test_integration_fixtures.py: 36 warnings\nbackend/tests/unit/test_api_endpoints.py: 8 warnings\nbackend/tests/unit/test_explore_insights.py: 12 warnings\nbackend/tests/unit/test_modern_chapter.py: 25 warnings\nbackend/tests/unit/test_modern_design_compliance.py: 48 warnings\n  /Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/pydantic/main.py:1087: PydanticDeprecatedSince20: The `dict` method is deprecated; use `model_dump` instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.8/migration/\n    warnings.warn('The `dict` method is deprecated; use `model_dump` instead.', category=PydanticDeprecatedSince20)\n\n-- Docs: https://docs.pytest.org/en/stable/how-to/capture-warnings.html\n=========================== short test summary info ============================\nFAILED backend/tests/e2e/test_frontend.py::TestFrontendStructure::test_02_preferences_html_structure\nFAILED backend/tests/unit/test_chapters.py::TestChapters::test_chapter_generation\nSUBFAILED(chapter=1) backend/tests/unit/test_dynamic_chapters.py::TestDynamicChapters::test_all_chapters_generate_modern_dashboard\nSUBFAILED(chapter=2) backend/tests/unit/test_dynamic_chapters.py::TestDynamicChapters::test_all_chapters_generate_modern_dashboard\nSUBFAILED(chapter=3) backend/tests/unit/test_dynamic_chapters.py::TestDynamicChapters::test_all_chapters_generate_modern_dashboard\nSUBFAILED(chapter=4) backend/tests/unit/test_dynamic_chapters.py::TestDynamicChapters::test_all_chapters_generate_modern_dashboard\nSUBFAILED(chapter=5) backend/tests/unit/test_dynamic_chapters.py::TestDynamicChapters::test_all_chapters_generate_modern_dashboard\nSUBFAILED(chapter=6) backend/tests/unit/test_dynamic_chapters.py::TestDynamicChapters::test_all_chapters_generate_modern_dashboard\nSUBFAILED(chapter=7) backend/tests/unit/test_dynamic_chapters.py::TestDynamicChapters::test_all_chapters_generate_modern_dashboard\nSUBFAILED(chapter=8) backend/tests/unit/test_dynamic_chapters.py::TestDynamicChapters::test_all_chapters_generate_modern_dashboard\nSUBFAILED(chapter=9) backend/tests/unit/test_dynamic_chapters.py::TestDynamicChapters::test_all_chapters_generate_modern_dashboard\nSUBFAILED(chapter=10) backend/tests/unit/test_dynamic_chapters.py::TestDynamicChapters::test_all_chapters_generate_modern_dashboard\nSUBFAILED(chapter=11) backend/tests/unit/test_dynamic_chapters.py::TestDynamicChapters::test_all_chapters_generate_modern_dashboard\nSUBFAILED(chapter=12) backend/tests/unit/test_dynamic_chapters.py::TestDynamicChapters::test_all_chapters_generate_modern_dashboard\nFAILED backend/tests/unit/test_dynamic_chapters.py::TestDynamicChapters::test_dynamic_intelligence_integration\nFAILED backend/tests/unit/test_modern_chapter.py::TestModernChapter::test_chapter_structure_modern\nFAILED backend/tests/unit/test_modern_design_compliance.py::TestModernDesignCompliance::test_enriched_by_ai_check\nSUBFAILED(chapter='Chapter 0 (Executive Summary)') backend/tests/unit/test_modern_design_compliance.py::TestModernDesignCompliance::test_modern_4k_structure_compliance\n============ 18 failed, 39 passed, 1 skipped, 247 warnings in 4.45s ============",
      "start_time": "2025-12-15T16:27:44.097982Z",
      "end_time": "2025-12-15T16:27:49.030738Z",
      "status": "failed",
      "reason": null,
      "parsed_results": null
    },
    {
      "framework": "jest",
      "command": "npx jest --runInBand",
      "exit_code": -1,
      "raw_output": "Skipped: no JS/TS test files found.",
      "start_time": "2025-12-15T16:27:44.097803Z",
      "end_time": "2025-12-15T16:27:44.097803Z",
      "status": "skipped",
      "reason": "Detected 1 JS/TS source files but no test files to execute.",
      "parsed_results": null
    },
    {
      "framework": "go test",
      "command": "go test ./... -v",
      "exit_code": -1,
      "raw_output": "Skipped: no Go source files detected.",
      "start_time": "2025-12-15T16:27:44.097803Z",
      "end_time": "2025-12-15T16:27:44.097803Z",
      "status": "skipped",
      "reason": "No Go source files detected in repository.",
      "parsed_results": null
    },
    {
      "framework": "cargo test",
      "command": "cargo test --verbose",
      "exit_code": -1,
      "raw_output": "Skipped: no Rust source files detected.",
      "start_time": "2025-12-15T16:27:44.097803Z",
      "end_time": "2025-12-15T16:27:44.097803Z",
      "status": "skipped",
      "reason": "No Rust source files detected in repository.",
      "parsed_results": null
    },
    {
      "framework": "maven/gradle",
      "command": "mvn test || gradle test",
      "exit_code": -1,
      "raw_output": "Skipped: no Java source files detected.",
      "start_time": "2025-12-15T16:27:44.097803Z",
      "end_time": "2025-12-15T16:27:44.097803Z",
      "status": "skipped",
      "reason": "No Java source files detected in repository.",
      "parsed_results": null
    },
    {
      "framework": "rspec/minitest",
      "command": "rspec || rake test",
      "exit_code": -1,
      "raw_output": "Skipped: no Ruby source files detected.",
      "start_time": "2025-12-15T16:27:44.097803Z",
      "end_time": "2025-12-15T16:27:44.097803Z",
      "status": "skipped",
      "reason": "No Ruby source files detected in repository.",
      "parsed_results": null
    }
  ]
}