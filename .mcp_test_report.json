{
  "executed_at": "2025-12-21T09:13:58.505605Z",
  "root": "/Users/marcelkurvers/Development/funda-app",
  "summary": {
    "total_runs": 6,
    "success": 0,
    "failed": 2,
    "skipped": 4
  },
  "runs": [
    {
      "framework": "pytest",
      "command": "pytest",
      "exit_code": 1,
      "raw_output": "============================= test session starts ==============================\nplatform darwin -- Python 3.11.4, pytest-9.0.2, pluggy-1.6.0 -- /Library/Frameworks/Python.framework/Versions/3.11/bin/python3.11\ncachedir: .pytest_cache\nrootdir: /Users/marcelkurvers/Development/funda-app\nconfigfile: pytest.ini\ntestpaths: backend/tests\nplugins: anyio-4.10.0\ncollecting ... collected 206 items\n\nbackend/tests/e2e/test_frontend.py::TestFrontendStructure::test_01_index_html_structure PASSED [  0%]\nbackend/tests/e2e/test_frontend.py::TestFrontendStructure::test_02_preferences_html_structure PASSED [  0%]\nbackend/tests/e2e/test_pdf_export.py::TestPDFExport::test_pdf_export_functionality FAILED [  1%]\nbackend/tests/integration/test_comprehensive.py::TestComprehensive::test_all_chapters_generated PASSED [  1%]\nbackend/tests/integration/test_comprehensive.py::TestComprehensive::test_energy_label_logic PASSED [  2%]\nbackend/tests/integration/test_comprehensive.py::TestComprehensive::test_kpi_calculations_robustness PASSED [  2%]\nbackend/tests/integration/test_consistency.py::TestChapterConsistency::test_bedroom_logic FAILED [  3%]\nbackend/tests/integration/test_consistency.py::TestChapterConsistency::test_content_text_consistency PASSED [  3%]\nbackend/tests/integration/test_consistency.py::TestChapterConsistency::test_energy_label_consistency PASSED [  4%]\nbackend/tests/integration/test_consistency.py::TestChapterConsistency::test_living_area_consistency PASSED [  4%]\nbackend/tests/integration/test_consistency.py::TestChapterConsistency::test_price_consistency PASSED [  5%]\nbackend/tests/integration/test_consistency.py::TestChapterConsistency::test_sqm_price_consistency PASSED [  5%]\nbackend/tests/integration/test_docker_sync.py::TestDockerSync::test_ensure_latest_docker_build PASSED [  6%]\nbackend/tests/integration/test_integration.py::TestIntegration::test_full_flow_with_paste FAILED [  6%]\nbackend/tests/integration/test_integration_fixtures.py::TestFixturesOutput::test_fixtures_generation \nbackend/tests/integration/test_integration_fixtures.py::TestFixturesOutput::test_fixtures_generation PASSED [  7%]\nbackend/tests/quality/test_audit_codebase.py::test_audit_codebase_for_mocks_and_hardcoded_items PASSED [  7%]\nbackend/tests/quality/test_dynamism.py::TestDynamism::test_dynamism_score_generation PASSED [  8%]\nbackend/tests/test_verify_consistency.py::test_consistency_check_happy_path FAILED [  8%]\nbackend/tests/test_verify_consistency.py::test_consistency_check_detects_price_mismatch PASSED [  9%]\nbackend/tests/test_verify_consistency.py::test_consistency_check_detects_label_mismatch PASSED [  9%]\nbackend/tests/unit/test_ai_interpretation.py::TestAiInterpretation::test_all_chapters_generation \nbackend/tests/unit/test_ai_interpretation.py::TestAiInterpretation::test_all_chapters_generation PASSED [ 10%]\nbackend/tests/unit/test_ai_interpretation.py::TestAiInterpretation::test_html_structure_consistency PASSED [ 10%]\nbackend/tests/unit/test_ai_interpretation.py::TestAiInterpretation::test_scenario_luxury_villa PASSED [ 11%]\nbackend/tests/unit/test_ai_interpretation.py::TestAiInterpretation::test_scenario_modern_eco_house PASSED [ 11%]\nbackend/tests/unit/test_ai_interpretation.py::TestAiInterpretation::test_scenario_old_fixer_upper PASSED [ 12%]\nbackend/tests/unit/test_api_endpoints.py::TestApiEndpoints::test_create_run_defaults PASSED [ 12%]\nbackend/tests/unit/test_api_endpoints.py::TestApiEndpoints::test_get_nonexistent_run PASSED [ 13%]\nbackend/tests/unit/test_api_endpoints.py::TestApiEndpoints::test_health_check FAILED [ 13%]\nbackend/tests/unit/test_api_endpoints.py::TestApiEndpoints::test_preferences_api PASSED [ 14%]\nbackend/tests/unit/test_api_endpoints.py::TestApiEndpoints::test_start_run_updates_status PASSED [ 14%]\nbackend/tests/unit/test_async_pipeline.py::TestAsyncPipeline::test_start_run_returns_immediately PASSED [ 15%]\nbackend/tests/unit/test_async_pipeline.py::TestAsyncPipeline::test_status_polling_endpoint_exists FAILED [ 15%]\nbackend/tests/unit/test_async_pipeline.py::TestAsyncPipeline::test_status_polling_progress_calculation FAILED [ 16%]\nbackend/tests/unit/test_async_pipeline.py::TestAsyncPipeline::test_status_endpoint_404_for_nonexistent_run PASSED [ 16%]\nbackend/tests/unit/test_async_pipeline.py::TestAsyncPipeline::test_pipeline_runs_in_background FAILED [ 16%]\nbackend/tests/unit/test_async_pipeline.py::TestAsyncPipeline::test_multiple_concurrent_pipelines FAILED [ 17%]\nbackend/tests/unit/test_async_pipeline.py::TestThreadExecutor::test_executor_exists PASSED [ 17%]\nbackend/tests/unit/test_async_pipeline.py::TestThreadExecutor::test_simulate_pipeline_callable PASSED [ 18%]\nbackend/tests/unit/test_async_pipeline.py::TestBackwardCompatibility::test_report_endpoint_still_works PASSED [ 18%]\nbackend/tests/unit/test_async_pipeline.py::TestBackwardCompatibility::test_create_run_endpoint_unchanged PASSED [ 19%]\nbackend/tests/unit/test_chapter_0_logic.py::TestChapter0Logic::test_address_cleanup PASSED [ 19%]\nbackend/tests/unit/test_chapter_0_logic.py::TestChapter0Logic::test_robotic_currency PASSED [ 20%]\nbackend/tests/unit/test_chapter_0_logic.py::TestChapter0Logic::test_maintenance_consistency PASSED [ 20%]\nbackend/tests/unit/test_chapter_routines.py::TestChapterRoutines::test_chapter_file_correspondence \nbackend/tests/unit/test_chapter_routines.py::TestChapterRoutines::test_chapter_file_correspondence PASSED [ 21%]\nbackend/tests/unit/test_chapter_routines.py::TestChapterRoutines::test_unique_layout_per_page PASSED [ 21%]\nbackend/tests/unit/test_chapter_routines.py::TestChapterRoutines::test_z_generate_design_compliance_report PASSED [ 22%]\nbackend/tests/unit/test_chapters.py::TestChapters::test_chapter_generation PASSED [ 22%]\nbackend/tests/unit/test_chapters.py::TestChapters::test_chapter_registry PASSED [ 23%]\nbackend/tests/unit/test_complex_parsing.py::TestComplexParsing::test_no_classes_layout FAILED [ 23%]\nbackend/tests/unit/test_config_api.py::test_get_full_config PASSED       [ 24%]\nbackend/tests/unit/test_config_api.py::test_get_config_section PASSED    [ 24%]\nbackend/tests/unit/test_config_api.py::test_get_config_section_not_found PASSED [ 25%]\nbackend/tests/unit/test_config_api.py::test_get_config_value PASSED      [ 25%]\nbackend/tests/unit/test_config_api.py::test_update_config_bulk FAILED    [ 26%]\nbackend/tests/unit/test_config_api.py::test_update_config_value PASSED   [ 26%]\nbackend/tests/unit/test_config_api.py::test_update_config_invalid_section PASSED [ 27%]\nbackend/tests/unit/test_config_api.py::test_update_config_invalid_key PASSED [ 27%]\nbackend/tests/unit/test_display_units.py::TestDisplayUnits::test_derived_metrics_consistency PASSED [ 28%]\nbackend/tests/unit/test_display_units.py::TestDisplayUnits::test_no_duplicate_m2_in_hero PASSED [ 28%]\nbackend/tests/unit/test_display_units.py::TestDisplayUnits::test_no_duplicate_m2_in_metrics PASSED [ 29%]\nbackend/tests/unit/test_display_units.py::TestDisplayUnits::test_price_m2_calculation_accuracy PASSED [ 29%]\nbackend/tests/unit/test_domain_models.py::TestDomainModels::test_chapter_output_flexibility PASSED [ 30%]\nbackend/tests/unit/test_domain_models.py::TestDomainModels::test_property_core_defaults PASSED [ 30%]\nbackend/tests/unit/test_domain_models.py::TestDomainModels::test_ui_component_structure PASSED [ 31%]\nbackend/tests/unit/test_dynamic_chapters.py::TestDynamicChapters::test_all_chapters_generate_modern_dashboard \nbackend/tests/unit/test_dynamic_chapters.py::TestDynamicChapters::test_all_chapters_generate_modern_dashboard PASSED [ 31%]\nbackend/tests/unit/test_dynamic_chapters.py::TestDynamicChapters::test_chapter_titles PASSED [ 32%]\nbackend/tests/unit/test_dynamic_chapters.py::TestDynamicChapters::test_dynamic_intelligence_integration PASSED [ 32%]\nbackend/tests/unit/test_explore_insights.py::TestExploreInsights::test_capture_chapter_insights PASSED [ 33%]\nbackend/tests/unit/test_frontend_compatibility.py::TestRegression::test_chapter_data_bridging FAILED [ 33%]\nbackend/tests/unit/test_frontend_compatibility.py::TestRegression::test_chapter_id_present FAILED [ 33%]\nbackend/tests/unit/test_image_upload.py::TestImageUpload::test_upload_endpoint_exists PASSED [ 34%]\nbackend/tests/unit/test_image_upload.py::TestImageUpload::test_upload_valid_image FAILED [ 34%]\nbackend/tests/unit/test_image_upload.py::TestImageUpload::test_upload_jpg_image FAILED [ 35%]\nbackend/tests/unit/test_image_upload.py::TestImageUpload::test_upload_non_image_file_rejected FAILED [ 35%]\nbackend/tests/unit/test_image_upload.py::TestImageUpload::test_upload_oversized_image_rejected PASSED [ 36%]\nbackend/tests/unit/test_image_upload.py::TestImageUpload::test_uploaded_file_is_accessible PASSED [ 36%]\nbackend/tests/unit/test_image_upload.py::TestImageUpload::test_upload_generates_unique_filenames PASSED [ 37%]\nbackend/tests/unit/test_image_upload.py::TestImageUpload::test_upload_preserves_file_extension FAILED [ 37%]\nbackend/tests/unit/test_image_upload.py::TestImageUpload::test_upload_directory_exists PASSED [ 38%]\nbackend/tests/unit/test_image_upload.py::TestImageUpload::test_upload_handles_special_characters_in_filename PASSED [ 38%]\nbackend/tests/unit/test_image_upload.py::TestImageUploadIntegration::test_paste_with_media_urls PASSED [ 39%]\nbackend/tests/unit/test_image_upload.py::TestImageUploadSecurity::test_upload_without_authentication PASSED [ 39%]\nbackend/tests/unit/test_image_upload.py::TestImageUploadSecurity::test_path_traversal_prevention PASSED [ 40%]\nbackend/tests/unit/test_intelligence.py::TestIntelligenceEngine::test_chapter_0_executive_summary FAILED [ 40%]\nbackend/tests/unit/test_intelligence.py::TestIntelligenceEngine::test_chapter_4_energy_logic PASSED [ 41%]\nbackend/tests/unit/test_intelligence.py::TestIntelligenceEngine::test_generate_chapter_narrative_structure PASSED [ 41%]\nbackend/tests/unit/test_intelligence.py::TestIntelligenceEngine::test_parse_int_helper PASSED [ 42%]\nbackend/tests/unit/test_modern_chapter.py::TestModernChapter::test_chapter_structure_modern FAILED [ 42%]\nbackend/tests/unit/test_modern_chapter.py::TestModernChapter::test_energy_chapter_layout PASSED [ 43%]\nbackend/tests/unit/test_modern_design_compliance.py::TestModernDesignCompliance::test_all_chapters_exist PASSED [ 43%]\nbackend/tests/unit/test_modern_design_compliance.py::TestModernDesignCompliance::test_data_integrity_no_placeholders PASSED [ 44%]\nbackend/tests/unit/test_modern_design_compliance.py::TestModernDesignCompliance::test_enriched_by_ai_check PASSED [ 44%]\nbackend/tests/unit/test_modern_design_compliance.py::TestModernDesignCompliance::test_modern_4k_structure_compliance \nbackend/tests/unit/test_modern_design_compliance.py::TestModernDesignCompliance::test_modern_4k_structure_compliance PASSED [ 45%]\nbackend/tests/unit/test_ollama_integration.py::TestOllamaIntegration::test_ai_narrative_generation_failure_fallback PASSED [ 45%]\nbackend/tests/unit/test_ollama_integration.py::TestOllamaIntegration::test_ai_narrative_generation_success FAILED [ 46%]\nbackend/tests/unit/test_ollama_integration.py::TestOllamaIntegration::test_prompt_structure_contains_preferences PASSED [ 46%]\nbackend/tests/unit/test_ollama_integration.py::TestOllamaIntegration::test_provider_injection PASSED [ 47%]\nbackend/tests/unit/test_parser.py::TestParser::test_bedroom_extraction_from_rooms PASSED [ 47%]\nbackend/tests/unit/test_parser.py::TestParser::test_comprehensive_field_extraction FAILED [ 48%]\nbackend/tests/unit/test_parser.py::TestParser::test_cross_validation_bedrooms_vs_rooms PASSED [ 48%]\nbackend/tests/unit/test_parser.py::TestParser::test_data_quality_report PASSED [ 49%]\nbackend/tests/unit/test_parser.py::TestParser::test_illogical_data_validation FAILED [ 49%]\nbackend/tests/unit/test_parser.py::TestParser::test_parse_real_fixture PASSED [ 50%]\nbackend/tests/unit/test_parser.py::TestParser::test_parse_sample FAILED  [ 50%]\nbackend/tests/unit/test_parser_edge_cases.py::TestParserEdgeCases::test_navigation_text_address_bug PASSED [ 50%]\nbackend/tests/unit/test_parser_edge_cases.py::TestParserEdgeCases::test_photo_count_as_rooms_bug PASSED [ 51%]\nbackend/tests/unit/test_parser_edge_cases.py::TestParserEdgeCases::test_suspicious_room_count_correction FAILED [ 51%]\nbackend/tests/unit/test_parser_edge_cases.py::TestParserEdgeCases::test_duplicate_m2_display_fix PASSED [ 52%]\nbackend/tests/unit/test_parser_edge_cases_additional.py::test_address_blocklist_ignored FAILED [ 52%]\nbackend/tests/unit/test_parser_edge_cases_additional.py::test_bedroom_capping FAILED [ 53%]\nbackend/tests/unit/test_preferences_compliance.py::TestPreferencesCompliance::test_marcel_petra_preferences_match FAILED [ 53%]\nbackend/tests/unit/test_preferences_compliance.py::TestPreferencesCompliance::test_missing_preferences_handling FAILED [ 54%]\nbackend/tests/unit/test_preferenties_vergelijking.py::TestPreferentiesVergelijking::test_vergelijking_logica PASSED [ 54%]\nbackend/tests/unit/test_provider_factory.py::TestProviderRegistry::test_list_providers_returns_all_registered PASSED [ 55%]\nbackend/tests/unit/test_provider_factory.py::TestProviderRegistry::test_get_provider_class_ollama PASSED [ 55%]\nbackend/tests/unit/test_provider_factory.py::TestProviderRegistry::test_get_provider_class_openai PASSED [ 56%]\nbackend/tests/unit/test_provider_factory.py::TestProviderRegistry::test_get_provider_class_anthropic PASSED [ 56%]\nbackend/tests/unit/test_provider_factory.py::TestProviderRegistry::test_get_provider_class_gemini PASSED [ 57%]\nbackend/tests/unit/test_provider_factory.py::TestProviderRegistry::test_get_provider_class_unknown_returns_none PASSED [ 57%]\nbackend/tests/unit/test_provider_factory.py::TestProviderRegistry::test_register_new_provider PASSED [ 58%]\nbackend/tests/unit/test_provider_factory.py::TestProviderRegistry::test_register_overwrites_existing PASSED [ 58%]\nbackend/tests/unit/test_provider_factory.py::TestProviderFactory::test_create_ollama_provider_default PASSED [ 59%]\nbackend/tests/unit/test_provider_factory.py::TestProviderFactory::test_create_ollama_provider_custom_url PASSED [ 59%]\nbackend/tests/unit/test_provider_factory.py::TestProviderFactory::test_create_ollama_provider_custom_timeout PASSED [ 60%]\nbackend/tests/unit/test_provider_factory.py::TestProviderFactory::test_create_openai_provider_with_api_key PASSED [ 60%]\nbackend/tests/unit/test_provider_factory.py::TestProviderFactory::test_create_openai_provider_without_api_key_raises_error PASSED [ 61%]\nbackend/tests/unit/test_provider_factory.py::TestProviderFactory::test_create_anthropic_provider_with_api_key PASSED [ 61%]\nbackend/tests/unit/test_provider_factory.py::TestProviderFactory::test_create_anthropic_provider_without_api_key_raises_error PASSED [ 62%]\nbackend/tests/unit/test_provider_factory.py::TestProviderFactory::test_create_gemini_provider_with_api_key PASSED [ 62%]\nbackend/tests/unit/test_provider_factory.py::TestProviderFactory::test_create_gemini_provider_without_api_key_raises_error PASSED [ 63%]\nbackend/tests/unit/test_provider_factory.py::TestProviderFactory::test_create_unknown_provider_raises_error PASSED [ 63%]\nbackend/tests/unit/test_provider_factory.py::TestProviderFactory::test_create_provider_with_extra_kwargs PASSED [ 64%]\nbackend/tests/unit/test_provider_factory.py::TestProviderFactory::test_create_all_providers_with_valid_config PASSED [ 64%]\nbackend/tests/unit/test_provider_factory.py::TestProviderFactory::test_provider_factory_respects_timeout_parameter PASSED [ 65%]\nbackend/tests/unit/test_provider_factory.py::TestFactoryRegistryIntegration::test_factory_uses_registry_for_provider_lookup PASSED [ 65%]\nbackend/tests/unit/test_provider_factory.py::TestFactoryRegistryIntegration::test_custom_provider_can_be_registered_and_created PASSED [ 66%]\nbackend/tests/unit/test_provider_factory.py::TestFactoryRegistryIntegration::test_all_registered_providers_can_be_created PASSED [ 66%]\nbackend/tests/unit/test_provider_factory.py::TestProviderFactoryErrorHandling::test_none_provider_name_raises_error PASSED [ 66%]\nbackend/tests/unit/test_provider_factory.py::TestProviderFactoryErrorHandling::test_empty_provider_name_raises_error PASSED [ 67%]\nbackend/tests/unit/test_provider_factory.py::TestProviderFactoryErrorHandling::test_case_sensitive_provider_names PASSED [ 67%]\nbackend/tests/unit/test_provider_factory.py::TestProviderFactoryErrorHandling::test_helpful_error_message_lists_available_providers PASSED [ 68%]\nbackend/tests/unit/test_providers.py::TestOllamaProvider::test_ollama_initialization_default PASSED [ 68%]\nbackend/tests/unit/test_providers.py::TestOllamaProvider::test_ollama_initialization_custom_url PASSED [ 69%]\nbackend/tests/unit/test_providers.py::TestOllamaProvider::test_ollama_initialization_env_var PASSED [ 69%]\nbackend/tests/unit/test_providers.py::TestOllamaProvider::test_ollama_initialization_docker_env PASSED [ 70%]\nbackend/tests/unit/test_providers.py::TestOllamaProvider::test_ollama_name_property PASSED [ 70%]\nbackend/tests/unit/test_providers.py::TestOllamaProvider::test_ollama_list_models_success PASSED [ 71%]\nbackend/tests/unit/test_providers.py::TestOllamaProvider::test_ollama_list_models_http_error PASSED [ 71%]\nbackend/tests/unit/test_providers.py::TestOllamaProvider::test_ollama_list_models_connection_error PASSED [ 72%]\nbackend/tests/unit/test_providers.py::TestOllamaProvider::test_ollama_generate_success PASSED [ 72%]\nbackend/tests/unit/test_providers.py::TestOllamaProvider::test_ollama_generate_timeout PASSED [ 73%]\nbackend/tests/unit/test_providers.py::TestOllamaProvider::test_ollama_check_health_success PASSED [ 73%]\nbackend/tests/unit/test_providers.py::TestOllamaProvider::test_ollama_check_health_failure PASSED [ 74%]\nbackend/tests/unit/test_providers.py::TestOpenAIProvider::test_openai_initialization_with_key PASSED [ 74%]\nbackend/tests/unit/test_providers.py::TestOpenAIProvider::test_openai_initialization_from_env PASSED [ 75%]\nbackend/tests/unit/test_providers.py::TestOpenAIProvider::test_openai_initialization_no_key_raises_error PASSED [ 75%]\nbackend/tests/unit/test_providers.py::TestOpenAIProvider::test_openai_name_property PASSED [ 76%]\nbackend/tests/unit/test_providers.py::TestOpenAIProvider::test_openai_list_models PASSED [ 76%]\nbackend/tests/unit/test_providers.py::TestOpenAIProvider::test_openai_generate_success PASSED [ 77%]\nbackend/tests/unit/test_providers.py::TestOpenAIProvider::test_openai_generate_with_json_mode PASSED [ 77%]\nbackend/tests/unit/test_providers.py::TestOpenAIProvider::test_openai_generate_error_handling PASSED [ 78%]\nbackend/tests/unit/test_providers.py::TestOpenAIProvider::test_openai_check_health_success PASSED [ 78%]\nbackend/tests/unit/test_providers.py::TestOpenAIProvider::test_openai_check_health_failure PASSED [ 79%]\nbackend/tests/unit/test_providers.py::TestAnthropicProvider::test_anthropic_initialization_with_key PASSED [ 79%]\nbackend/tests/unit/test_providers.py::TestAnthropicProvider::test_anthropic_initialization_custom_timeout PASSED [ 80%]\nbackend/tests/unit/test_providers.py::TestAnthropicProvider::test_anthropic_name_property PASSED [ 80%]\nbackend/tests/unit/test_providers.py::TestAnthropicProvider::test_anthropic_list_models PASSED [ 81%]\nbackend/tests/unit/test_providers.py::TestAnthropicProvider::test_anthropic_generate_success PASSED [ 81%]\nbackend/tests/unit/test_providers.py::TestAnthropicProvider::test_anthropic_generate_with_json_mode PASSED [ 82%]\nbackend/tests/unit/test_providers.py::TestAnthropicProvider::test_anthropic_generate_timeout_error PASSED [ 82%]\nbackend/tests/unit/test_providers.py::TestAnthropicProvider::test_anthropic_check_health_success PASSED [ 83%]\nbackend/tests/unit/test_providers.py::TestAnthropicProvider::test_anthropic_check_health_failure PASSED [ 83%]\nbackend/tests/unit/test_providers.py::TestGeminiProvider::test_gemini_initialization_with_key PASSED [ 83%]\nbackend/tests/unit/test_providers.py::TestGeminiProvider::test_gemini_initialization_from_google_env PASSED [ 84%]\nbackend/tests/unit/test_providers.py::TestGeminiProvider::test_gemini_initialization_from_gemini_env PASSED [ 84%]\nbackend/tests/unit/test_providers.py::TestGeminiProvider::test_gemini_initialization_no_key_raises_error PASSED [ 85%]\nbackend/tests/unit/test_providers.py::TestGeminiProvider::test_gemini_name_property PASSED [ 85%]\nbackend/tests/unit/test_providers.py::TestGeminiProvider::test_gemini_list_models PASSED [ 86%]\nbackend/tests/unit/test_providers.py::TestGeminiProvider::test_gemini_generate_success PASSED [ 86%]\nbackend/tests/unit/test_providers.py::TestGeminiProvider::test_gemini_generate_with_json_mode PASSED [ 87%]\nbackend/tests/unit/test_providers.py::TestGeminiProvider::test_gemini_generate_error_handling PASSED [ 87%]\nbackend/tests/unit/test_providers.py::TestGeminiProvider::test_gemini_check_health_success PASSED [ 88%]\nbackend/tests/unit/test_providers.py::TestGeminiProvider::test_gemini_check_health_no_api_key PASSED [ 88%]\nbackend/tests/unit/test_providers.py::TestGeminiProvider::test_gemini_check_health_failure PASSED [ 89%]\nbackend/tests/unit/test_providers.py::TestProviderInterface::test_all_providers_implement_interface PASSED [ 89%]\nbackend/tests/unit/test_providers.py::TestProviderInterface::test_all_providers_have_name_property PASSED [ 90%]\nbackend/tests/unit/test_utils.py::TestParsingUtilities::test_parse_float_invalid PASSED [ 90%]\nbackend/tests/unit/test_utils.py::TestParsingUtilities::test_parse_float_valid PASSED [ 91%]\nbackend/tests/unit/test_utils.py::TestParsingUtilities::test_parse_int_custom_default PASSED [ 91%]\nbackend/tests/unit/test_utils.py::TestParsingUtilities::test_parse_int_formatted_numbers PASSED [ 92%]\nbackend/tests/unit/test_utils.py::TestParsingUtilities::test_parse_int_invalid_inputs PASSED [ 92%]\nbackend/tests/unit/test_utils.py::TestParsingUtilities::test_parse_int_valid_numbers PASSED [ 93%]\nbackend/tests/unit/test_utils.py::TestValidationUtilities::test_validate_bedrooms_explicit_count PASSED [ 93%]\nbackend/tests/unit/test_utils.py::TestValidationUtilities::test_validate_bedrooms_minimum PASSED [ 94%]\nbackend/tests/unit/test_utils.py::TestValidationUtilities::test_validate_bedrooms_normal_range PASSED [ 94%]\nbackend/tests/unit/test_utils.py::TestValidationUtilities::test_validate_bedrooms_upper_bound PASSED [ 95%]\nbackend/tests/unit/test_utils.py::TestValidationUtilities::test_validate_living_area_bounds PASSED [ 95%]\nbackend/tests/unit/test_utils.py::TestValidationUtilities::test_validate_living_area_normal PASSED [ 96%]\nbackend/tests/unit/test_utils.py::TestSafetyUtilities::test_ensure_grid_layout_existing PASSED [ 96%]\nbackend/tests/unit/test_utils.py::TestSafetyUtilities::test_ensure_grid_layout_missing PASSED [ 97%]\nbackend/tests/unit/test_utils.py::TestSafetyUtilities::test_safe_get_existing_key PASSED [ 97%]\nbackend/tests/unit/test_utils.py::TestSafetyUtilities::test_safe_get_missing_key PASSED [ 98%]\nbackend/tests/unit/test_utils.py::TestSafetyUtilities::test_safe_get_none_value PASSED [ 98%]\nbackend/tests/unit/test_utils.py::TestEdgeCases::test_parse_int_extreme_values PASSED [ 99%]\nbackend/tests/unit/test_utils.py::TestEdgeCases::test_validate_bedrooms_edge_cases PASSED [ 99%]\nbackend/tests/unit/test_utils.py::TestEdgeCases::test_validate_living_area_warnings PASSED [100%]\n\n=================================== FAILURES ===================================\n_________________ TestPDFExport.test_pdf_export_functionality __________________\nbackend/tests/e2e/test_pdf_export.py:133: in test_pdf_export_functionality\n    self.assertEqual(response.status_code, 200, f\"Expected 200 OK, got {response.status_code}\")\nE   AssertionError: 404 != 200 : Expected 200 OK, got 404\n__________________ TestChapterConsistency.test_bedroom_logic ___________________\nbackend/tests/integration/test_consistency.py:119: in test_bedroom_logic\n    self.assertEqual(actual_bedrooms, expected_bedrooms,\nE   AssertionError: 10 != 6 : Inconsistent bedroom count: expected 6, got 10\n------------------------------ Captured log call -------------------------------\nERROR    main:main.py:312 Failed to generate Rich Chapter 1: 'NoneType' object is not subscriptable\n__________________ TestIntegration.test_full_flow_with_paste ___________________\nbackend/tests/integration/test_integration.py:48: in test_full_flow_with_paste\n    self.assertEqual(resp.status_code, 200)\nE   AssertionError: 404 != 200\n----------------------------- Captured stdout call -----------------------------\n\n[Test] Starting Run...\n[Test] Pasting HTML content...\n------------------------------ Captured log call -------------------------------\nERROR    main:main.py:169 \u2717 Failed to initialize AI Provider (ollama): Unknown provider: ollama. Available providers: \nERROR    main:main.py:252 Scrape failed: 'Scraper' object has no attribute 'derive_property_core'\n_ TestFixturesOutput.test_fixtures_generation (file='/Users/marcelkurvers/Development/funda-app/backend/tests/integration/../fixtures/sample_funda.html') _\nbackend/tests/integration/test_integration_fixtures.py:82: in test_fixtures_generation\n    self.assertIn(\"sidebar\", layout, f\"Chapter {cid} layout missing sidebar\")\nE   AssertionError: 'sidebar' not found in {'main': {'title': 'Algemene Woningkenmerken', 'content': \"<p>De bebouwingsdichtheid is hoog (circa 100%), wat typerend is voor een stedelijke of centrum-locatie. Elke vierkante meter wordt hier benut.</p><p>Degelijke bouw uit 1995. Een periode waarin praktische indelingen centraal stonden.</p>\\n<h3>Begrip van de KPI's</h3><ul><li><strong>Vraagprijs:</strong> De marktwaarde-indicatie.</li><li><strong>Woonoppervlak:</strong> De netto bruikbare ruimte (NEN2580).</li><li><strong>Bouwjaar:</strong> Indicatie voor bouwqualiteit en isolatienormen.</li><li><strong>Energielabel:</strong> Impact op comfort en maandlasten.</li></ul>\"}, 'metrics': [{'id': 'fallback', 'label': 'Status', 'value': 'AI Generated'}]} : Chapter 1 layout missing sidebar\n_ TestFixturesOutput.test_fixtures_generation (file='/Users/marcelkurvers/Development/funda-app/backend/tests/integration/../fixtures/user_funda.html') _\nbackend/tests/integration/test_integration_fixtures.py:82: in test_fixtures_generation\n    self.assertIn(\"sidebar\", layout, f\"Chapter {cid} layout missing sidebar\")\nE   AssertionError: 'sidebar' not found in {'main': {'title': 'Algemene Woningkenmerken', 'content': \"<p>De verhouding wonen/perceel (44%) is marktconform voor deze wijkopzet.</p><p>Degelijke bouw uit 1979. Een periode waarin praktische indelingen centraal stonden.</p>\\n<h3>Begrip van de KPI's</h3><ul><li><strong>Vraagprijs:</strong> De marktwaarde-indicatie.</li><li><strong>Woonoppervlak:</strong> De netto bruikbare ruimte (NEN2580).</li><li><strong>Bouwjaar:</strong> Indicatie voor bouwqualiteit en isolatienormen.</li><li><strong>Energielabel:</strong> Impact op comfort en maandlasten.</li></ul>\"}, 'metrics': [{'id': 'fallback', 'label': 'Status', 'value': 'AI Generated'}]} : Chapter 1 layout missing sidebar\n_ TestFixturesOutput.test_fixtures_generation (file='/Users/marcelkurvers/Development/funda-app/backend/tests/integration/../../../test-data/test-html') _\nbackend/tests/integration/test_integration_fixtures.py:82: in test_fixtures_generation\n    self.assertIn(\"sidebar\", layout, f\"Chapter {cid} layout missing sidebar\")\nE   AssertionError: 'sidebar' not found in {'main': {'title': 'Algemene Woningkenmerken', 'content': \"<p>De verhouding wonen/perceel (44%) is marktconform voor deze wijkopzet.</p><p>Degelijke bouw uit 1979. Een periode waarin praktische indelingen centraal stonden.</p>\\n<h3>Begrip van de KPI's</h3><ul><li><strong>Vraagprijs:</strong> De marktwaarde-indicatie.</li><li><strong>Woonoppervlak:</strong> De netto bruikbare ruimte (NEN2580).</li><li><strong>Bouwjaar:</strong> Indicatie voor bouwqualiteit en isolatienormen.</li><li><strong>Energielabel:</strong> Impact op comfort en maandlasten.</li></ul>\"}, 'metrics': [{'id': 'fallback', 'label': 'Status', 'value': 'AI Generated'}]} : Chapter 1 layout missing sidebar\n______________________ test_consistency_check_happy_path _______________________\nbackend/tests/test_verify_consistency.py:30: in test_consistency_check_happy_path\n    assert len(mismatches) == 0, f\"Expected 0 mismatches, found: {mismatches}\"\nE   AssertionError: Expected 0 mismatches, found: [{'field': 'balcony', 'status': 'mismatch', 'source': 'Text Scan', 'parsed': 'Nee', 'message': \"Waarde 'Nee' niet gevonden als losstaand woord.\"}]\nE   assert 1 == 0\nE    +  where 1 = len([{'field': 'balcony', 'message': \"Waarde 'Nee' niet gevonden als losstaand woord.\", 'parsed': 'Nee', 'source': 'Text Scan', ...}])\n------------------------------ Captured log call -------------------------------\nWARNING  backend.consistency:consistency.py:135 Consistency Issues: 1 fields mismatch.\n______________________ TestApiEndpoints.test_health_check ______________________\nbackend/tests/unit/test_api_endpoints.py:58: in test_health_check\n    self.assertEqual(resp.status_code, 200)\nE   AssertionError: 404 != 200\n____________ TestAsyncPipeline.test_status_polling_endpoint_exists _____________\nbackend/tests/unit/test_async_pipeline.py:64: in test_status_polling_endpoint_exists\n    status_response = client.get(f\"/runs/{run_id}/status\")\n                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/starlette/testclient.py:518: in get\n    return super().get(\n../../Library/Python/3.11/lib/python/site-packages/httpx/_client.py:1053: in get\n    return self.request(\n/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/starlette/testclient.py:488: in request\n    return super().request(\n../../Library/Python/3.11/lib/python/site-packages/httpx/_client.py:825: in request\n    return self.send(request, auth=auth, follow_redirects=follow_redirects)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n../../Library/Python/3.11/lib/python/site-packages/httpx/_client.py:914: in send\n    response = self._send_handling_auth(\n../../Library/Python/3.11/lib/python/site-packages/httpx/_client.py:942: in _send_handling_auth\n    response = self._send_handling_redirects(\n../../Library/Python/3.11/lib/python/site-packages/httpx/_client.py:979: in _send_handling_redirects\n    response = self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n../../Library/Python/3.11/lib/python/site-packages/httpx/_client.py:1014: in _send_single_request\n    response = transport.handle_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/starlette/testclient.py:381: in handle_request\n    raise exc\n/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/starlette/testclient.py:378: in handle_request\n    portal.call(self.app, scope, receive, send)\n../../Library/Python/3.11/lib/python/site-packages/anyio/from_thread.py:291: in call\n    return cast(T_Retval, self.start_task_soon(func, *args).result())\n                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/concurrent/futures/_base.py:456: in result\n    return self.__get_result()\n           ^^^^^^^^^^^^^^^^^^^\n/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/concurrent/futures/_base.py:401: in __get_result\n    raise self._exception\n../../Library/Python/3.11/lib/python/site-packages/anyio/from_thread.py:222: in _call_func\n    retval = await retval_or_awaitable\n             ^^^^^^^^^^^^^^^^^^^^^^^^^\n/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/fastapi/applications.py:1054: in __call__\n    await super().__call__(scope, receive, send)\n/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/starlette/applications.py:113: in __call__\n    await self.middleware_stack(scope, receive, send)\n/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/starlette/middleware/errors.py:187: in __call__\n    raise exc\n/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/starlette/middleware/errors.py:165: in __call__\n    await self.app(scope, receive, _send)\n/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/starlette/middleware/exceptions.py:62: in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/starlette/_exception_handler.py:62: in wrapped_app\n    raise exc\n/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/starlette/_exception_handler.py:51: in wrapped_app\n    await app(scope, receive, sender)\n/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/starlette/routing.py:715: in __call__\n    await self.middleware_stack(scope, receive, send)\n/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/starlette/routing.py:735: in app\n    await route.handle(scope, receive, send)\n/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/starlette/routing.py:288: in handle\n    await self.app(scope, receive, send)\n/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/starlette/routing.py:76: in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/starlette/_exception_handler.py:62: in wrapped_app\n    raise exc\n/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/starlette/_exception_handler.py:51: in wrapped_app\n    await app(scope, receive, sender)\n/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/starlette/routing.py:73: in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/fastapi/routing.py:301: in app\n    raw_response = await run_endpoint_function(\n/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/fastapi/routing.py:214: in run_endpoint_function\n    return await run_in_threadpool(dependant.call, **values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/starlette/concurrency.py:39: in run_in_threadpool\n    return await anyio.to_thread.run_sync(func, *args)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n../../Library/Python/3.11/lib/python/site-packages/anyio/to_thread.py:56: in run_sync\n    return await get_async_backend().run_sync_in_worker_thread(\n../../Library/Python/3.11/lib/python/site-packages/anyio/_backends/_asyncio.py:2476: in run_sync_in_worker_thread\n    return await future\n           ^^^^^^^^^^^^\n../../Library/Python/3.11/lib/python/site-packages/anyio/_backends/_asyncio.py:967: in run\n    result = context.run(func, *args)\n             ^^^^^^^^^^^^^^^^^^^^^^^^\nbackend/main.py:396: in get_run_status\n    return run_to_overview(row)\n           ^^^^^^^^^^^^^^^^^^^^\nbackend/main.py:134: in run_to_overview\n    \"artifacts\": json.loads(row[\"artifacts_json\"]),\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/json/__init__.py:339: in loads\n    raise TypeError(f'the JSON object must be str, bytes or bytearray, '\nE   TypeError: the JSON object must be str, bytes or bytearray, not NoneType\n__________ TestAsyncPipeline.test_status_polling_progress_calculation __________\nbackend/tests/unit/test_async_pipeline.py:83: in test_status_polling_progress_calculation\n    status_response = client.get(f\"/runs/{run_id}/status\")\n                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/starlette/testclient.py:518: in get\n    return super().get(\n../../Library/Python/3.11/lib/python/site-packages/httpx/_client.py:1053: in get\n    return self.request(\n/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/starlette/testclient.py:488: in request\n    return super().request(\n../../Library/Python/3.11/lib/python/site-packages/httpx/_client.py:825: in request\n    return self.send(request, auth=auth, follow_redirects=follow_redirects)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n../../Library/Python/3.11/lib/python/site-packages/httpx/_client.py:914: in send\n    response = self._send_handling_auth(\n../../Library/Python/3.11/lib/python/site-packages/httpx/_client.py:942: in _send_handling_auth\n    response = self._send_handling_redirects(\n../../Library/Python/3.11/lib/python/site-packages/httpx/_client.py:979: in _send_handling_redirects\n    response = self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n../../Library/Python/3.11/lib/python/site-packages/httpx/_client.py:1014: in _send_single_request\n    response = transport.handle_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/starlette/testclient.py:381: in handle_request\n    raise exc\n/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/starlette/testclient.py:378: in handle_request\n    portal.call(self.app, scope, receive, send)\n../../Library/Python/3.11/lib/python/site-packages/anyio/from_thread.py:291: in call\n    return cast(T_Retval, self.start_task_soon(func, *args).result())\n                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/concurrent/futures/_base.py:456: in result\n    return self.__get_result()\n           ^^^^^^^^^^^^^^^^^^^\n/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/concurrent/futures/_base.py:401: in __get_result\n    raise self._exception\n../../Library/Python/3.11/lib/python/site-packages/anyio/from_thread.py:222: in _call_func\n    retval = await retval_or_awaitable\n             ^^^^^^^^^^^^^^^^^^^^^^^^^\n/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/fastapi/applications.py:1054: in __call__\n    await super().__call__(scope, receive, send)\n/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/starlette/applications.py:113: in __call__\n    await self.middleware_stack(scope, receive, send)\n/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/starlette/middleware/errors.py:187: in __call__\n    raise exc\n/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/starlette/middleware/errors.py:165: in __call__\n    await self.app(scope, receive, _send)\n/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/starlette/middleware/exceptions.py:62: in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/starlette/_exception_handler.py:62: in wrapped_app\n    raise exc\n/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/starlette/_exception_handler.py:51: in wrapped_app\n    await app(scope, receive, sender)\n/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/starlette/routing.py:715: in __call__\n    await self.middleware_stack(scope, receive, send)\n/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/starlette/routing.py:735: in app\n    await route.handle(scope, receive, send)\n/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/starlette/routing.py:288: in handle\n    await self.app(scope, receive, send)\n/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/starlette/routing.py:76: in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/starlette/_exception_handler.py:62: in wrapped_app\n    raise exc\n/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/starlette/_exception_handler.py:51: in wrapped_app\n    await app(scope, receive, sender)\n/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/starlette/routing.py:73: in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/fastapi/routing.py:301: in app\n    raw_response = await run_endpoint_function(\n/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/fastapi/routing.py:214: in run_endpoint_function\n    return await run_in_threadpool(dependant.call, **values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/starlette/concurrency.py:39: in run_in_threadpool\n    return await anyio.to_thread.run_sync(func, *args)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n../../Library/Python/3.11/lib/python/site-packages/anyio/to_thread.py:56: in run_sync\n    return await get_async_backend().run_sync_in_worker_thread(\n../../Library/Python/3.11/lib/python/site-packages/anyio/_backends/_asyncio.py:2476: in run_sync_in_worker_thread\n    return await future\n           ^^^^^^^^^^^^\n../../Library/Python/3.11/lib/python/site-packages/anyio/_backends/_asyncio.py:967: in run\n    result = context.run(func, *args)\n             ^^^^^^^^^^^^^^^^^^^^^^^^\nbackend/main.py:396: in get_run_status\n    return run_to_overview(row)\n           ^^^^^^^^^^^^^^^^^^^^\nbackend/main.py:134: in run_to_overview\n    \"artifacts\": json.loads(row[\"artifacts_json\"]),\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/json/__init__.py:339: in loads\n    raise TypeError(f'the JSON object must be str, bytes or bytearray, '\nE   TypeError: the JSON object must be str, bytes or bytearray, not NoneType\n______________ TestAsyncPipeline.test_pipeline_runs_in_background ______________\nbackend/tests/unit/test_async_pipeline.py:112: in test_pipeline_runs_in_background\n    status_response = client.get(f\"/runs/{run_id}/status\")\n                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/starlette/testclient.py:518: in get\n    return super().get(\n../../Library/Python/3.11/lib/python/site-packages/httpx/_client.py:1053: in get\n    return self.request(\n/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/starlette/testclient.py:488: in request\n    return super().request(\n../../Library/Python/3.11/lib/python/site-packages/httpx/_client.py:825: in request\n    return self.send(request, auth=auth, follow_redirects=follow_redirects)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n../../Library/Python/3.11/lib/python/site-packages/httpx/_client.py:914: in send\n    response = self._send_handling_auth(\n../../Library/Python/3.11/lib/python/site-packages/httpx/_client.py:942: in _send_handling_auth\n    response = self._send_handling_redirects(\n../../Library/Python/3.11/lib/python/site-packages/httpx/_client.py:979: in _send_handling_redirects\n    response = self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n../../Library/Python/3.11/lib/python/site-packages/httpx/_client.py:1014: in _send_single_request\n    response = transport.handle_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/starlette/testclient.py:381: in handle_request\n    raise exc\n/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/starlette/testclient.py:378: in handle_request\n    portal.call(self.app, scope, receive, send)\n../../Library/Python/3.11/lib/python/site-packages/anyio/from_thread.py:291: in call\n    return cast(T_Retval, self.start_task_soon(func, *args).result())\n                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/concurrent/futures/_base.py:456: in result\n    return self.__get_result()\n           ^^^^^^^^^^^^^^^^^^^\n/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/concurrent/futures/_base.py:401: in __get_result\n    raise self._exception\n../../Library/Python/3.11/lib/python/site-packages/anyio/from_thread.py:222: in _call_func\n    retval = await retval_or_awaitable\n             ^^^^^^^^^^^^^^^^^^^^^^^^^\n/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/fastapi/applications.py:1054: in __call__\n    await super().__call__(scope, receive, send)\n/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/starlette/applications.py:113: in __call__\n    await self.middleware_stack(scope, receive, send)\n/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/starlette/middleware/errors.py:187: in __call__\n    raise exc\n/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/starlette/middleware/errors.py:165: in __call__\n    await self.app(scope, receive, _send)\n/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/starlette/middleware/exceptions.py:62: in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/starlette/_exception_handler.py:62: in wrapped_app\n    raise exc\n/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/starlette/_exception_handler.py:51: in wrapped_app\n    await app(scope, receive, sender)\n/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/starlette/routing.py:715: in __call__\n    await self.middleware_stack(scope, receive, send)\n/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/starlette/routing.py:735: in app\n    await route.handle(scope, receive, send)\n/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/starlette/routing.py:288: in handle\n    await self.app(scope, receive, send)\n/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/starlette/routing.py:76: in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/starlette/_exception_handler.py:62: in wrapped_app\n    raise exc\n/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/starlette/_exception_handler.py:51: in wrapped_app\n    await app(scope, receive, sender)\n/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/starlette/routing.py:73: in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/fastapi/routing.py:301: in app\n    raw_response = await run_endpoint_function(\n/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/fastapi/routing.py:214: in run_endpoint_function\n    return await run_in_threadpool(dependant.call, **values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/starlette/concurrency.py:39: in run_in_threadpool\n    return await anyio.to_thread.run_sync(func, *args)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n../../Library/Python/3.11/lib/python/site-packages/anyio/to_thread.py:56: in run_sync\n    return await get_async_backend().run_sync_in_worker_thread(\n../../Library/Python/3.11/lib/python/site-packages/anyio/_backends/_asyncio.py:2476: in run_sync_in_worker_thread\n    return await future\n           ^^^^^^^^^^^^\n../../Library/Python/3.11/lib/python/site-packages/anyio/_backends/_asyncio.py:967: in run\n    result = context.run(func, *args)\n             ^^^^^^^^^^^^^^^^^^^^^^^^\nbackend/main.py:396: in get_run_status\n    return run_to_overview(row)\n           ^^^^^^^^^^^^^^^^^^^^\nbackend/main.py:134: in run_to_overview\n    \"artifacts\": json.loads(row[\"artifacts_json\"]),\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/json/__init__.py:339: in loads\n    raise TypeError(f'the JSON object must be str, bytes or bytearray, '\nE   TypeError: the JSON object must be str, bytes or bytearray, not NoneType\n------------------------------ Captured log call -------------------------------\nERROR    main:main.py:169 \u2717 Failed to initialize AI Provider (ollama): Unknown provider: ollama. Available providers:\n_____________ TestAsyncPipeline.test_multiple_concurrent_pipelines _____________\nbackend/tests/unit/test_async_pipeline.py:150: in test_multiple_concurrent_pipelines\n    status = client.get(f\"/runs/{run_id}/status\")\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/starlette/testclient.py:518: in get\n    return super().get(\n../../Library/Python/3.11/lib/python/site-packages/httpx/_client.py:1053: in get\n    return self.request(\n/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/starlette/testclient.py:488: in request\n    return super().request(\n../../Library/Python/3.11/lib/python/site-packages/httpx/_client.py:825: in request\n    return self.send(request, auth=auth, follow_redirects=follow_redirects)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n../../Library/Python/3.11/lib/python/site-packages/httpx/_client.py:914: in send\n    response = self._send_handling_auth(\n../../Library/Python/3.11/lib/python/site-packages/httpx/_client.py:942: in _send_handling_auth\n    response = self._send_handling_redirects(\n../../Library/Python/3.11/lib/python/site-packages/httpx/_client.py:979: in _send_handling_redirects\n    response = self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n../../Library/Python/3.11/lib/python/site-packages/httpx/_client.py:1014: in _send_single_request\n    response = transport.handle_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/starlette/testclient.py:381: in handle_request\n    raise exc\n/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/starlette/testclient.py:378: in handle_request\n    portal.call(self.app, scope, receive, send)\n../../Library/Python/3.11/lib/python/site-packages/anyio/from_thread.py:291: in call\n    return cast(T_Retval, self.start_task_soon(func, *args).result())\n                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/concurrent/futures/_base.py:456: in result\n    return self.__get_result()\n           ^^^^^^^^^^^^^^^^^^^\n/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/concurrent/futures/_base.py:401: in __get_result\n    raise self._exception\n../../Library/Python/3.11/lib/python/site-packages/anyio/from_thread.py:222: in _call_func\n    retval = await retval_or_awaitable\n             ^^^^^^^^^^^^^^^^^^^^^^^^^\n/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/fastapi/applications.py:1054: in __call__\n    await super().__call__(scope, receive, send)\n/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/starlette/applications.py:113: in __call__\n    await self.middleware_stack(scope, receive, send)\n/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/starlette/middleware/errors.py:187: in __call__\n    raise exc\n/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/starlette/middleware/errors.py:165: in __call__\n    await self.app(scope, receive, _send)\n/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/starlette/middleware/exceptions.py:62: in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/starlette/_exception_handler.py:62: in wrapped_app\n    raise exc\n/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/starlette/_exception_handler.py:51: in wrapped_app\n    await app(scope, receive, sender)\n/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/starlette/routing.py:715: in __call__\n    await self.middleware_stack(scope, receive, send)\n/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/starlette/routing.py:735: in app\n    await route.handle(scope, receive, send)\n/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/starlette/routing.py:288: in handle\n    await self.app(scope, receive, send)\n/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/starlette/routing.py:76: in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/starlette/_exception_handler.py:62: in wrapped_app\n    raise exc\n/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/starlette/_exception_handler.py:51: in wrapped_app\n    await app(scope, receive, sender)\n/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/starlette/routing.py:73: in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/fastapi/routing.py:301: in app\n    raw_response = await run_endpoint_function(\n/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/fastapi/routing.py:214: in run_endpoint_function\n    return await run_in_threadpool(dependant.call, **values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/starlette/concurrency.py:39: in run_in_threadpool\n    return await anyio.to_thread.run_sync(func, *args)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n../../Library/Python/3.11/lib/python/site-packages/anyio/to_thread.py:56: in run_sync\n    return await get_async_backend().run_sync_in_worker_thread(\n../../Library/Python/3.11/lib/python/site-packages/anyio/_backends/_asyncio.py:2476: in run_sync_in_worker_thread\n    return await future\n           ^^^^^^^^^^^^\n../../Library/Python/3.11/lib/python/site-packages/anyio/_backends/_asyncio.py:967: in run\n    result = context.run(func, *args)\n             ^^^^^^^^^^^^^^^^^^^^^^^^\nbackend/main.py:396: in get_run_status\n    return run_to_overview(row)\n           ^^^^^^^^^^^^^^^^^^^^\nbackend/main.py:134: in run_to_overview\n    \"artifacts\": json.loads(row[\"artifacts_json\"]),\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/json/__init__.py:339: in loads\n    raise TypeError(f'the JSON object must be str, bytes or bytearray, '\nE   TypeError: the JSON object must be str, bytes or bytearray, not NoneType\n------------------------------ Captured log call -------------------------------\nERROR    main:main.py:169 \u2717 Failed to initialize AI Provider (ollama): Unknown provider: ollama. Available providers: \nERROR    main:main.py:169 \u2717 Failed to initialize AI Provider (ollama): Unknown provider: ollama. Available providers:\n__________________ TestComplexParsing.test_no_classes_layout ___________________\nbackend/tests/unit/test_complex_parsing.py:93: in test_no_classes_layout\n    self.assertEqual(data[\"energy_label\"], \"C\")\nE   AssertionError: '?' != 'C'\nE   - ?\nE   + C\n----------------------------- Captured stdout call -----------------------------\nParsed No-Class Data: {'asking_price_eur': '\u20ac 325.000', 'address': 'Adres onbekend', 'living_area_m2': '120 m\u00b2', 'plot_area_m2': '200 m\u00b2', 'build_year': '1980', 'energy_label': '?', 'rooms': '4', 'bedrooms': None, 'bathrooms': None, 'property_type': None, 'construction_type': None, 'garage': None, 'garden': None, 'balcony': 'Nee', 'roof_type': None, 'heating': None, 'insulation': None, 'volume_m3': None, 'service_costs': None, 'acceptance': None, 'ownership': None, 'listed_since': None, 'media_urls': []}\n___________________________ test_update_config_bulk ____________________________\nbackend/tests/unit/test_config_api.py:84: in test_update_config_bulk\n    assert settings.ai.timeout == 45\nE   AssertionError: assert 30 == 45\nE    +  where 30 = AISettings(provider='ollama', model='llama3', timeout=30, fallback_enabled=True, openai_api_key=None, anthropic_api_key=None, gemini_api_key=None, ollama_base_url=None).timeout\nE    +    where AISettings(provider='ollama', model='llama3', timeout=30, fallback_enabled=True, openai_api_key=None, anthropic_api_key=None, gemini_api_key=None, ollama_base_url=None) = AppSettings(ai=AISettings(provider='ollama', model='llama3', timeout=30, fallback_enabled=True, openai_api_key=None, anthropic_api_key=None, gemini_api_key=None, ollama_base_url=None), market=MarketSettings(avg_price_m2=5200, energy_label_scores={'A': 95, 'B': 80, 'C': 65, 'D': 50, 'E': 35, 'F': 20, 'G': 10}), fit_score=FitScoreSettings(base=0.5, completeness_bonus=0.2, energy_bonus=0.15), validation=ValidationSettings(max_bedrooms=15, max_bathrooms=10, max_total_rooms=30, min_living_area=10, max_living_area=2000, min_build_year=1500, max_build_year=2030), pipeline=PipelineSettings(max_workers=2, image_max_size_mb=10, poll_interval_ms=2000), preferences=UserPreferencesSettings(marcel_keywords=['glasvezel', 'zonnepanelen', 'garage', 'laadpaal', '1930'], marcel_tech_weight=0.4, marcel_infrastructure_weight=0.3, marcel_energy_weight=0.3, marcel_hidden_priorities=['bouwjaar', 'dakisolatie'], petra_keywords=['karakteristiek', 'sfeer', 'tuin', 'bad', 'licht'], petra_atmosphere_weight=0.4, petra_comfort_weight=0.3, petra_finish_weight=0.3, petra_hidden_priorities=['afwerking', 'badkamer']), chapters=ChapterSettings(titles={'0': 'Introductie & Samenvatting', '1': 'Algemene Woningkenmerken', '2': 'Matchanalyse Marcel & Petra', '3': 'Bouwkundige Staat', '4': 'Energie & Duurzaamheid', '5': 'Indeling & Ruimtegebruik', '6': 'Onderhoud & Afwerking', '7': 'Tuin & Buitenruimte', '8': 'Parkeren & Bereikbaarheid', '9': 'Juridische Aspecten', '10': 'Financi\u00eble Analyse', '11': 'Marktpositie', '12': 'Advies & Conclusie'}), database_url='/private/var/folders/6l/pwn03xyx4v71tjn8rtdqm49w0000gn/T/pytest-of-marcelkurvers/pytest-8/test_update_config_bulk0/test_app.db').ai\n__________________ TestRegression.test_chapter_data_bridging ___________________\nbackend/tests/unit/test_frontend_compatibility.py:34: in test_chapter_data_bridging\n    self.assertIn(\"metrics\", cd, f\"Chapter {i} chapter_data MISSING 'metrics'\")\nE   AssertionError: 'metrics' not found in {'title': 'Executive Summary', 'intro': 'Welkom bij de analyse van het object aan de Test Street 1. De vraagprijs bedraagt \u20ac500,000 (circa \u20ac5,000/m\u00b2). Het woonoppervlak is 100 m\u00b2. Energielabel: ONBEKEND.', 'main_analysis': '\\n        <div class=\"lead-text\" style=\"font-size: 1.1rem; line-height: 1.6; color: #334155; margin-bottom: 2rem;\">\\n            Welkom bij de analyse van het object aan de Test Street 1. De vraagprijs bedraagt \u20ac500,000 (circa \u20ac5,000/m\u00b2). Het woonoppervlak is 100 m\u00b2. Energielabel: ONBEKEND.\\n        </div>\\n\\n        <div class=\"analysis-grid\" style=\"margin-bottom: 2rem;\">\\n            <div class=\"analysis-item\">\\n                <div class=\"analysis-icon valid\"><ion-icon name=\"construct\"></ion-icon></div>\\n                <div class=\"analysis-text\">\\n                    <strong>Bouwtechnische Staat</strong><br>\\n                    Relatief jonge bouw; beperkt risico.\\n                </div>\\n            </div>\\n            <div class=\"analysis-item\">\\n                <div class=\"analysis-icon valid\"><ion-icon name=\"cash\"></ion-icon></div>\\n                <div class=\"analysis-text\">\\n                    <strong>Waardering</strong><br>\\n                    Marktconform (+4% vs markt)\\n                </div>\\n            </div>\\n        </div>\\n\\n        <div class=\"ai-analysis-content\" style=\"margin-bottom: 2rem; padding: 1rem; background: #f8fafc; border-radius: 8px; border-left: 4px solid #6366f1;\">\\n            <h4 style=\"margin-top:0; color:#4f46e5;\">AI Analyse</h4>\\n            <p>De woning lijkt instapklaar; wij voorzien in de basis geen directe investering voor verduurzaming.</p>\\n<h3>Begrip van de KPI\\'s</h3><ul><li><strong>Vraagprijs:</strong> De marktwaarde-indicatie.</li><li><strong>Woonoppervlak:</strong> De netto bruikbare ruimte (NEN2580).</li><li><strong>Bouwjaar:</strong> Indicatie voor bouwqualiteit en isolatienormen.</li><li><strong>Energielabel:</strong> Impact op comfort en maandlasten.</li></ul>\\n            \\n<p><strong>Match voor Marcel & Petra:</strong> Op basis van jullie profiel sluit dit hoofdstuk aan op de specifieke kenmerken die jullie belangrijk vinden.</p>\\n        </div>\\n\\n        <div style=\"background: white; border-radius: 12px; border: 1px solid #e2e8f0; padding: 1.5rem;\">\\n            <h4 style=\"margin-top:0; color:#334155; margin-bottom: 1rem;\">Sterke & Zwakke Punten</h4>\\n            <div style=\"display: grid; grid-template-columns: 1fr 1fr; gap: 2rem;\">\\n                <div>\\n                    <h5 style=\"color:#10b981; margin:0 0 0.5rem 0;\">Voordelen</h5>\\n                    <ul style=\"list-style:none; padding:0; margin:0; font-size: 0.95rem; color:#475569;\"><li class=\\'pro\\'><ion-icon name=\\'checkmark-circle\\' style=\\'color:#10b981\\'></ion-icon> Uitstekend energielabel (Toekomstbestendig)</li></ul>\\n                </div>\\n                <div>\\n                    <h5 style=\"color:#ef4444; margin:0 0 0.5rem 0;\">Aandachtspunten</h5>\\n                    <ul style=\"list-style:none; padding:0; margin:0; font-size: 0.95rem; color:#475569;\"></ul>\\n                </div>\\n            </div>\\n        </div>\\n        ', 'conclusion': '<strong>Conclusie:</strong> Controleer de ontbrekende gegevens voor een volledige beoordeling.', 'strengths': ['Uitstekend energielabel (Toekomstbestendig)'], 'advice': [], 'interpretation': '\\n<p><strong>Match voor Marcel & Petra:</strong> Op basis van jullie profiel sluit dit hoofdstuk aan op de specifieke kenmerken die jullie belangrijk vinden.</p>', 'sidebar_items': [{'type': 'advisor_score', 'title': 'AI Aankoop Score', 'score': 80, 'content': 'Score bepaald o.b.v. Marktconform, Label ONBEKEND en marktcourantheid.'}, {'type': 'advisor_card', 'title': 'Strategisch Advies', 'style': 'gradient', 'content': '<strong>Conclusie:</strong> Controleer de ontbrekende gegevens voor een volledige beoordeling.'}, {'type': 'action_list', 'title': 'Noodzakelijke Acties', 'items': ['Onderhoudshistorie opvragen', 'Energielabel checken in register', 'Juridische erfdienstbaarheden controleren']}], 'property_core': {'address': 'Test Street 1', 'asking_price_eur': '500000', 'living_area_m2': '100', '_preferences': {'theme': 'light', 'language': 'nl', 'ai_model': 'gpt-4'}}} : Chapter 0 chapter_data MISSING 'metrics'\n____________________ TestRegression.test_chapter_id_present ____________________\nbackend/tests/unit/test_frontend_compatibility.py:22: in test_chapter_id_present\n    self.assertEqual(chapters[key][\"id\"], key, f\"Chapter {key} id mismatch\")\nE   AssertionError: None != '0' : Chapter 0 id mismatch\n___________________ TestImageUpload.test_upload_valid_image ____________________\nbackend/tests/unit/test_image_upload.py:65: in test_upload_valid_image\n    assert \"size\" in data\nE   AssertionError: assert 'size' in {'ok': True, 'url': '/uploads/f352e9d1-4641-4770-b6c1-1cb9ce3b6ecd.png'}\n____________________ TestImageUpload.test_upload_jpg_image _____________________\nbackend/tests/unit/test_image_upload.py:80: in test_upload_jpg_image\n    assert response.json()[\"url\"].endswith(\".jpg\")\nE   AssertionError: assert False\nE    +  where False = <built-in method endswith of str object at 0x10ac9a6b0>('.jpg')\nE    +    where <built-in method endswith of str object at 0x10ac9a6b0> = '/uploads/d5bbdde9-0949-4b33-9c60-7456594c1a36.png'.endswith\n_____________ TestImageUpload.test_upload_non_image_file_rejected ______________\nbackend/tests/unit/test_image_upload.py:90: in test_upload_non_image_file_rejected\n    assert \"must be an image\" in response.json()[\"detail\"].lower()\nE   AssertionError: assert 'must be an image' in 'must be image'\nE    +  where 'must be image' = <built-in method lower of str object at 0x10a8f1c30>()\nE    +    where <built-in method lower of str object at 0x10a8f1c30> = 'Must be image'.lower\n_____________ TestImageUpload.test_upload_preserves_file_extension _____________\nbackend/tests/unit/test_image_upload.py:154: in test_upload_preserves_file_extension\n    assert url.endswith(expected_ext)\nE   AssertionError: assert False\nE    +  where False = <built-in method endswith of str object at 0x10ac9ac60>('.jpg')\nE    +    where <built-in method endswith of str object at 0x10ac9ac60> = '/uploads/2fea7b07-057f-4bec-aa63-e474182c8457.png'.endswith\n___________ TestIntelligenceEngine.test_chapter_0_executive_summary ____________\nbackend/tests/unit/test_intelligence.py:62: in test_chapter_0_executive_summary\n    self.assertIn(\"onvolledig\", nar_missing['main_analysis'].lower()) # Should warn about missing KPIs\n    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nE   AssertionError: 'onvolledig' not found in \"<p>gezien het energielabel is verduurzaming noodzakelijk. houd rekening met een stevige investering.</p>\\n<h3>begrip van de kpi's</h3><ul><li><strong>vraagprijs:</strong> de marktwaarde-indicatie.</li><li><strong>woonoppervlak:</strong> de netto bruikbare ruimte (nen2580).</li><li><strong>bouwjaar:</strong> indicatie voor bouwqualiteit en isolatienormen.</li><li><strong>energielabel:</strong> impact op comfort en maandlasten.</li></ul>\"\n_______________ TestModernChapter.test_chapter_structure_modern ________________\nbackend/tests/unit/test_modern_chapter.py:23: in test_chapter_structure_modern\n    self.assertIn(\"sidebar\", layout)\nE   AssertionError: 'sidebar' not found in {'main': {'title': 'Algemene Woningkenmerken', 'content': \"<p>De verhouding wonen/perceel (44%) is marktconform voor deze wijkopzet.</p><p>Degelijke bouw uit 1979. Een periode waarin praktische indelingen centraal stonden.</p>\\n<h3>Begrip van de KPI's</h3><ul><li><strong>Vraagprijs:</strong> De marktwaarde-indicatie.</li><li><strong>Woonoppervlak:</strong> De netto bruikbare ruimte (NEN2580).</li><li><strong>Bouwjaar:</strong> Indicatie voor bouwqualiteit en isolatienormen.</li><li><strong>Energielabel:</strong> Impact op comfort en maandlasten.</li></ul>\"}, 'metrics': [{'id': 'fallback', 'label': 'Status', 'value': 'AI Generated'}]}\n------------------------------ Captured log call -------------------------------\nERROR    main:main.py:312 Failed to generate Rich Chapter 1: 'NoneType' object is not subscriptable\n__________ TestOllamaIntegration.test_ai_narrative_generation_success __________\nbackend/tests/unit/test_ollama_integration.py:65: in test_ai_narrative_generation_success\n    self.assertIn(\"Deze analyse is gegenereerd door de Funda AI-engine\", result['interpretation'])\nE   AssertionError: 'Deze analyse is gegenereerd door de Funda AI-engine' not found in 'AI Interpretation (AI Enhanced)'\n________________ TestParser.test_comprehensive_field_extraction ________________\nbackend/tests/unit/test_parser.py:206: in test_comprehensive_field_extraction\n    self.assertGreater(extraction_rate, 0.8,\nE   AssertionError: 0.6111111111111112 not greater than 0.8 : Should extract at least 80% of fields. Missing: ['asking_price_per_m2', 'property_type', 'construction_type', 'garage', 'garden', 'heating', 'insulation']\n__________________ TestParser.test_illogical_data_validation ___________________\nbackend/tests/unit/test_parser.py:117: in test_illogical_data_validation\n    self.assertIn(\"_parsing_warnings\", data, \"Illogical data should generate warnings\")\nE   AssertionError: '_parsing_warnings' not found in {'asking_price_eur': '\u20ac 450.000', 'address': 'Test Address', 'living_area_m2': None, 'plot_area_m2': None, 'build_year': None, 'energy_label': '?', 'rooms': '33', 'bedrooms': '33', 'bathrooms': '20', 'property_type': None, 'construction_type': None, 'garage': None, 'garden': None, 'balcony': 'Nee', 'roof_type': None, 'heating': None, 'insulation': None, 'volume_m3': None, 'service_costs': None, 'acceptance': None, 'ownership': None, 'listed_since': None, 'media_urls': []} : Illogical data should generate warnings\n_________________________ TestParser.test_parse_sample _________________________\nbackend/tests/unit/test_parser.py:74: in test_parse_sample\n    self.assertEqual(data[\"plot_area_m2\"], \"200 m\u00b2\")\nE   AssertionError: '120 m\u00b2' != '200 m\u00b2'\nE   - 120 m\u00b2\nE   ? -\nE   + 200 m\u00b2\nE   ?   +\n__________ TestParserEdgeCases.test_suspicious_room_count_correction ___________\nbackend/tests/unit/test_parser_edge_cases.py:89: in test_suspicious_room_count_correction\n    assert validated[\"rooms\"] != \"54\"\nE   AssertionError: assert '54' != '54'\n________________________ test_address_blocklist_ignored ________________________\nbackend/tests/unit/test_parser_edge_cases_additional.py:20: in test_address_blocklist_ignored\n    assert data[\"address\"] == \"Amsterdamseweg 123, 1111 AA Diemen\"\nE   AssertionError: assert 'Menu Amsterd...111 AA Diemen' == 'Amsterdamsew...111 AA Diemen'\nE     \nE     - Amsterdamseweg 123, 1111 AA Diemen\nE     + Menu Amsterdamseweg 123, 1111 AA Diemen\nE     ? +++++\n_____________________________ test_bedroom_capping _____________________________\nbackend/tests/unit/test_parser_edge_cases_additional.py:32: in test_bedroom_capping\n    assert data[\"bedrooms\"] == str(parser.MAX_BEDROOMS)\nE   AssertionError: assert '54' == '15'\nE     \nE     - 15\nE     + 54\n________ TestPreferencesCompliance.test_marcel_petra_preferences_match _________\nbackend/tests/unit/test_preferences_compliance.py:18: in setUp\n    IntelligenceEngine.set_client(None)\n    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nE   AttributeError: type object 'IntelligenceEngine' has no attribute 'set_client'\n_________ TestPreferencesCompliance.test_missing_preferences_handling __________\nbackend/tests/unit/test_preferences_compliance.py:18: in setUp\n    IntelligenceEngine.set_client(None)\n    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nE   AttributeError: type object 'IntelligenceEngine' has no attribute 'set_client'\n=========================== short test summary info ============================\nFAILED backend/tests/e2e/test_pdf_export.py::TestPDFExport::test_pdf_export_functionality\nFAILED backend/tests/integration/test_consistency.py::TestChapterConsistency::test_bedroom_logic\nFAILED backend/tests/integration/test_integration.py::TestIntegration::test_full_flow_with_paste\nSUBFAILED(file='/Users/marcelkurvers/Development/funda-app/backend/tests/integration/../fixtures/sample_funda.html') backend/tests/integration/test_integration_fixtures.py::TestFixturesOutput::test_fixtures_generation\nSUBFAILED(file='/Users/marcelkurvers/Development/funda-app/backend/tests/integration/../fixtures/user_funda.html') backend/tests/integration/test_integration_fixtures.py::TestFixturesOutput::test_fixtures_generation\nSUBFAILED(file='/Users/marcelkurvers/Development/funda-app/backend/tests/integration/../../../test-data/test-html') backend/tests/integration/test_integration_fixtures.py::TestFixturesOutput::test_fixtures_generation\nFAILED backend/tests/test_verify_consistency.py::test_consistency_check_happy_path\nFAILED backend/tests/unit/test_api_endpoints.py::TestApiEndpoints::test_health_check\nFAILED backend/tests/unit/test_async_pipeline.py::TestAsyncPipeline::test_status_polling_endpoint_exists\nFAILED backend/tests/unit/test_async_pipeline.py::TestAsyncPipeline::test_status_polling_progress_calculation\nFAILED backend/tests/unit/test_async_pipeline.py::TestAsyncPipeline::test_pipeline_runs_in_background\nFAILED backend/tests/unit/test_async_pipeline.py::TestAsyncPipeline::test_multiple_concurrent_pipelines\nFAILED backend/tests/unit/test_complex_parsing.py::TestComplexParsing::test_no_classes_layout\nFAILED backend/tests/unit/test_config_api.py::test_update_config_bulk - Asser...\nFAILED backend/tests/unit/test_frontend_compatibility.py::TestRegression::test_chapter_data_bridging\nFAILED backend/tests/unit/test_frontend_compatibility.py::TestRegression::test_chapter_id_present\nFAILED backend/tests/unit/test_image_upload.py::TestImageUpload::test_upload_valid_image\nFAILED backend/tests/unit/test_image_upload.py::TestImageUpload::test_upload_jpg_image\nFAILED backend/tests/unit/test_image_upload.py::TestImageUpload::test_upload_non_image_file_rejected\nFAILED backend/tests/unit/test_image_upload.py::TestImageUpload::test_upload_preserves_file_extension\nFAILED backend/tests/unit/test_intelligence.py::TestIntelligenceEngine::test_chapter_0_executive_summary\nFAILED backend/tests/unit/test_modern_chapter.py::TestModernChapter::test_chapter_structure_modern\nFAILED backend/tests/unit/test_ollama_integration.py::TestOllamaIntegration::test_ai_narrative_generation_success\nFAILED backend/tests/unit/test_parser.py::TestParser::test_comprehensive_field_extraction\nFAILED backend/tests/unit/test_parser.py::TestParser::test_illogical_data_validation\nFAILED backend/tests/unit/test_parser.py::TestParser::test_parse_sample - Ass...\nFAILED backend/tests/unit/test_parser_edge_cases.py::TestParserEdgeCases::test_suspicious_room_count_correction\nFAILED backend/tests/unit/test_parser_edge_cases_additional.py::test_address_blocklist_ignored\nFAILED backend/tests/unit/test_parser_edge_cases_additional.py::test_bedroom_capping\nFAILED backend/tests/unit/test_preferences_compliance.py::TestPreferencesCompliance::test_marcel_petra_preferences_match\nFAILED backend/tests/unit/test_preferences_compliance.py::TestPreferencesCompliance::test_missing_preferences_handling\n====== 31 failed, 178 passed, 461 warnings, 50 subtests passed in 13.22s =======",
      "start_time": "2025-12-21T09:12:50.089552Z",
      "end_time": "2025-12-21T09:13:03.936864Z",
      "status": "failed",
      "reason": null,
      "parsed_results": null
    },
    {
      "framework": "jest",
      "command": "npx jest --runInBand",
      "exit_code": 1,
      "raw_output": "jest-haste-map: duplicate manual mock found: vscode\n  The following files share their name; please delete one of them:\n    * <rootDir>/.vscode/extensions/apertia.vscode-aider-1.0.5/out/__mocks__/vscode.js\n    * <rootDir>/.vscode/extensions/apertia.vscode-aider-1.0.5/src/__mocks__/vscode.js\n\njest-haste-map: Haste module naming collision: claude-code\n  The following files share their name; please adjust your hasteImpl:\n    * <rootDir>/.antigravity/extensions/anthropic.claude-code-2.0.75-darwin-arm64/package.json\n    * <rootDir>/.cursor/extensions/anthropic.claude-code-2.0.62-darwin-arm64/package.json\n\njest-haste-map: Haste module naming collision: vscode-containers\n  The following files share their name; please adjust your hasteImpl:\n    * <rootDir>/.antigravity/extensions/ms-azuretools.vscode-containers-2.2.0-universal/package.json\n    * <rootDir>/.cursor/extensions/ms-azuretools.vscode-containers-2.3.0-universal/package.json\n\njest-haste-map: Haste module naming collision: vscode-docker\n  The following files share their name; please adjust your hasteImpl:\n    * <rootDir>/.antigravity/extensions/ms-azuretools.vscode-docker-2.0.0-universal/package.json\n    * <rootDir>/.cursor/extensions/ms-azuretools.vscode-docker-2.0.0-universal/package.json\n\njest-haste-map: Haste module naming collision: debugpy\n  The following files share their name; please adjust your hasteImpl:\n    * <rootDir>/.antigravity/extensions/ms-python.debugpy-2025.14.1-darwin-arm64/package.json\n    * <rootDir>/.cursor/extensions/ms-python.debugpy-2025.14.1-darwin-arm64/package.json\n\njest-haste-map: Haste module naming collision: python\n  The following files share their name; please adjust your hasteImpl:\n    * <rootDir>/.antigravity/extensions/ms-python.python-2025.16.0-universal/package.json\n    * <rootDir>/.cursor/extensions/ms-python.python-2025.6.1-darwin-arm64/package.json\n\njest-haste-map: Haste module naming collision: continue\n  The following files share their name; please adjust your hasteImpl:\n    * <rootDir>/.cursor/extensions/continue.continue-1.2.11-darwin-arm64/package.json\n    * <rootDir>/.vscode/extensions/continue.continue-1.2.11-darwin-arm64/package.json\n\njest-haste-map: Haste module naming collision: gitlens\n  The following files share their name; please adjust your hasteImpl:\n    * <rootDir>/.cursor/extensions/eamodio.gitlens-17.7.1-universal/package.json\n    * <rootDir>/.vscode/extensions/eamodio.gitlens-17.7.1/package.json\n\njest-haste-map: Haste module naming collision: rainbow-csv\n  The following files share their name; please adjust your hasteImpl:\n    * <rootDir>/.cursor/extensions/mechatroner.rainbow-csv-3.3.0-universal/package.json\n    * <rootDir>/.vscode/extensions/mechatroner.rainbow-csv-3.23.0/package.json\n\njest-haste-map: Haste module naming collision: vscode-python-envs\n  The following files share their name; please adjust your hasteImpl:\n    * <rootDir>/.antigravity/extensions/ms-python.vscode-python-envs-1.10.0-universal/package.json\n    * <rootDir>/.vscode/extensions/ms-python.vscode-python-envs-1.12.0-darwin-arm64/package.json\n\njest-haste-map: Haste module naming collision: remote-containers\n  The following files share their name; please adjust your hasteImpl:\n    * <rootDir>/.cursor/extensions/anysphere.remote-containers-1.0.29/package.json\n    * <rootDir>/.vscode/extensions/ms-vscode-remote.remote-containers-0.431.1/package.json\n\njest-haste-map: Haste module naming collision: chatgpt\n  The following files share their name; please adjust your hasteImpl:\n    * <rootDir>/.cursor/extensions/openai.chatgpt-0.4.49-universal/package.json\n    * <rootDir>/.vscode/extensions/openai.chatgpt-0.4.49/package.json\n\njest-haste-map: Haste module naming collision: frontend\n  The following files share their name; please adjust your hasteImpl:\n    * <rootDir>/Development/funda-app/frontend/package.json\n    * <rootDir>/Development/woning/frontend/package.json\n\njest-haste-map: Haste module naming collision: continue-node_modules-lancedb-vectordb-darwin-arm64\n  The following files share their name; please adjust your hasteImpl:\n    * <rootDir>/.cursor/extensions/continue.continue-1.2.11-darwin-arm64/tmp/continue-node_modules-lancedb-vectordb-darwin-arm64/package.json\n    * <rootDir>/.vscode/extensions/continue.continue-1.2.11-darwin-arm64/tmp/continue-node_modules-lancedb-vectordb-darwin-arm64/package.json\n\njest-haste-map: Haste module naming collision: microsoft-teams\n  The following files share their name; please adjust your hasteImpl:\n    * <rootDir>/.config/raycast/extensions/1dad559e-6c6a-4ca0-b0b2-92a1abe71f2e/package.json\n    * <rootDir>/Library/Application Support/Bitfocus Buttons/modules/microsoft-teams_1.2.0/package.json\n\njest-haste-map: Haste module naming collision: jupyterlab-plotly\n  The following files share their name; please adjust your hasteImpl:\n    * <rootDir>/anaconda3/share/jupyter/labextensions/jupyterlab-plotly/package.json\n    * <rootDir>/miniconda3/share/jupyter/labextensions/jupyterlab-plotly/package.json\n\njest-haste-map: Haste module naming collision: streamdeck-sdk\n  The following files share their name; please adjust your hasteImpl:\n    * <rootDir>/Library/Application Support/com.elgato.StreamDeck/Plugins/com.elgato.tutorial.sdPlugin/libs/package.json\n    * <rootDir>/Library/Application Support/com.elgato.StreamDeck/Plugins/com.elgato.youtube.sdPlugin/libs/package.json\n\njest-haste-map: Haste module naming collision: @jupyterlab/application-top\n  The following files share their name; please adjust your hasteImpl:\n    * <rootDir>/anaconda3/share/jupyter/lab/static/package.json\n    * <rootDir>/anaconda3/lib/python3.11/site-packages/jupyterlab/staging/package.json\n\njest-haste-map: Haste module naming collision: @jupyter-widgets/jupyterlab-manager\n  The following files share their name; please adjust your hasteImpl:\n    * <rootDir>/anaconda3/share/jupyter/labextensions/@jupyter-widgets/jupyterlab-manager/package.json\n    * <rootDir>/anaconda3/lib/python3.11/site-packages/jupyterlab_widgets/labextension/package.json\n\njest-haste-map: Haste module naming collision: @pyviz/jupyterlab_pyviz\n  The following files share their name; please adjust your hasteImpl:\n    * <rootDir>/anaconda3/share/jupyter/labextensions/@pyviz/jupyterlab_pyviz/package.json\n    * <rootDir>/anaconda3/lib/python3.11/site-packages/pyviz_comms/labextension/package.json\n\njest-haste-map: Haste module naming collision: @claude-code-plugins-plus/design-to-code\n  The following files share their name; please adjust your hasteImpl:\n    * <rootDir>/.claude/plugins/cache/claude-code-plugins-plus/design-to-code/1.0.0/package.json\n    * <rootDir>/.claude/plugins/marketplaces/claude-code-plugins-plus/plugins/mcp/design-to-code/package.json\n\njest-haste-map: Haste module naming collision: @holoviz/panel\n  The following files share their name; please adjust your hasteImpl:\n    * <rootDir>/anaconda3/lib/python3.11/site-packages/panel/package.json\n    * <rootDir>/anaconda3/pkgs/panel-1.2.1-py311hca03da5_0/lib/python3.11/site-packages/panel/package.json\n\njest-haste-map: Haste module naming collision: playwright-core\n  The following files share their name; please adjust your hasteImpl:\n    * <rootDir>/Library/Caches/ms-playwright-go/1.50.1/package/package.json\n    * <rootDir>/miniconda3/lib/python3.12/site-packages/playwright/driver/package/package.json\n\njest-haste-map: Haste module naming collision: @claude-plugins/ai-experiment-logger\n  The following files share their name; please adjust your hasteImpl:\n    * <rootDir>/.claude/plugins/marketplaces/claude-code-plugins-plus/plugins/mcp/ai-experiment-logger/package.json\n    * <rootDir>/.claude/plugins/marketplaces/claude-code-plugins-plus/backups/plugin-enhancements/plugin-backups/ai-experiment-logger_20251019_173511/package.json\n\njest-haste-map: Haste module naming collision: @claude-code-plugins-plus/conversational-api-debugger\n  The following files share their name; please adjust your hasteImpl:\n    * <rootDir>/.claude/plugins/marketplaces/claude-code-plugins-plus/plugins/mcp/conversational-api-debugger/package.json\n    * <rootDir>/.claude/plugins/marketplaces/claude-code-plugins-plus/backups/plugin-enhancements/plugin-backups/conversational-api-debugger_20251019_172921/package.json\n\njest-haste-map: Haste module naming collision: @claude-code-plugins-plus/domain-memory-agent\n  The following files share their name; please adjust your hasteImpl:\n    * <rootDir>/.claude/plugins/marketplaces/claude-code-plugins-plus/plugins/mcp/domain-memory-agent/package.json\n    * <rootDir>/.claude/plugins/marketplaces/claude-code-plugins-plus/backups/plugin-enhancements/plugin-backups/domain-memory-agent_20251019_171758/package.json\n\njest-haste-map: Haste module naming collision: @claude-code-plugins-plus/project-health-auditor\n  The following files share their name; please adjust your hasteImpl:\n    * <rootDir>/.claude/plugins/marketplaces/claude-code-plugins-plus/plugins/mcp/project-health-auditor/package.json\n    * <rootDir>/.claude/plugins/marketplaces/claude-code-plugins-plus/backups/plugin-enhancements/plugin-backups/project-health-auditor_20251020_014840/package.json\n\njest-haste-map: Haste module naming collision: web-to-github-issue\n  The following files share their name; please adjust your hasteImpl:\n    * <rootDir>/.claude/plugins/marketplaces/claude-code-plugins-plus/plugins/skill-enhancers/web-to-github-issue/package.json\n    * <rootDir>/.claude/plugins/marketplaces/claude-code-plugins-plus/backups/plugin-enhancements/plugin-backups/web-to-github-issue_20251020_081058/package.json\n\njest-haste-map: Haste module naming collision: @claude-code-plugins-plus/workflow-orchestrator\n  The following files share their name; please adjust your hasteImpl:\n    * <rootDir>/.claude/plugins/marketplaces/claude-code-plugins-plus/plugins/mcp/workflow-orchestrator/package.json\n    * <rootDir>/.claude/plugins/marketplaces/claude-code-plugins-plus/backups/plugin-enhancements/plugin-backups/workflow-orchestrator_20251019_170700/package.json\n\njest-haste-map: Haste module naming collision: sugar-mcp-server\n  The following files share their name; please adjust your hasteImpl:\n    * <rootDir>/.claude/plugins/marketplaces/claude-code-plugins-plus/plugins/devops/sugar/mcp-server/package.json\n    * <rootDir>/.claude/plugins/marketplaces/claude-code-plugins-plus/backups/skills-migration-20251108-070147/plugins/devops/sugar/mcp-server/package.json\n\njest-haste-map: Haste module naming collision: @jupyterlab/mock-extension\n  The following files share their name; please adjust your hasteImpl:\n    * <rootDir>/anaconda3/lib/python3.11/site-packages/jupyterlab/tests/mock_packages/extension/package.json\n    * <rootDir>/anaconda3/pkgs/jupyterlab-3.6.3-py311hca03da5_0/lib/python3.11/site-packages/jupyterlab/tests/mock_packages/extension/package.json\n\njest-haste-map: Haste module naming collision: @jupyterlab/mock-mime-extension\n  The following files share their name; please adjust your hasteImpl:\n    * <rootDir>/anaconda3/lib/python3.11/site-packages/jupyterlab/tests/mock_packages/mimeextension/package.json\n    * <rootDir>/anaconda3/pkgs/jupyterlab-3.6.3-py311hca03da5_0/lib/python3.11/site-packages/jupyterlab/tests/mock_packages/mimeextension/package.json\n\njest-haste-map: Haste module naming collision: test-hyphens-underscore\n  The following files share their name; please adjust your hasteImpl:\n    * <rootDir>/anaconda3/lib/python3.11/site-packages/jupyterlab/tests/mock_packages/test-hyphens-underscore/package.json\n    * <rootDir>/anaconda3/pkgs/jupyterlab-3.6.3-py311hca03da5_0/lib/python3.11/site-packages/jupyterlab/tests/mock_packages/test-hyphens-underscore/package.json\n\njest-haste-map: Haste module naming collision: @jupyterlab/mock-incompat\n  The following files share their name; please adjust your hasteImpl:\n    * <rootDir>/anaconda3/lib/python3.11/site-packages/jupyterlab/tests/mock_packages/incompat/package.json\n    * <rootDir>/anaconda3/pkgs/jupyterlab-3.6.3-py311hca03da5_0/lib/python3.11/site-packages/jupyterlab/tests/mock_packages/incompat/package.json\n\njest-haste-map: Haste module naming collision: @jupyterlab/mock-package\n  The following files share their name; please adjust your hasteImpl:\n    * <rootDir>/anaconda3/lib/python3.11/site-packages/jupyterlab/tests/mock_packages/package/package.json\n    * <rootDir>/anaconda3/pkgs/jupyterlab-3.6.3-py311hca03da5_0/lib/python3.11/site-packages/jupyterlab/tests/mock_packages/package/package.json\n\njest-haste-map: Haste module naming collision: test-hyphens\n  The following files share their name; please adjust your hasteImpl:\n    * <rootDir>/anaconda3/lib/python3.11/site-packages/jupyterlab/tests/mock_packages/test-hyphens/package.json\n    * <rootDir>/anaconda3/pkgs/jupyterlab-3.6.3-py311hca03da5_0/lib/python3.11/site-packages/jupyterlab/tests/mock_packages/test-hyphens/package.json\n\njest-haste-map: Haste module naming collision: test_no_hyphens\n  The following files share their name; please adjust your hasteImpl:\n    * <rootDir>/anaconda3/lib/python3.11/site-packages/jupyterlab/tests/mock_packages/test_no_hyphens/package.json\n    * <rootDir>/anaconda3/pkgs/jupyterlab-3.6.3-py311hca03da5_0/lib/python3.11/site-packages/jupyterlab/tests/mock_packages/test_no_hyphens/package.json\n\njest-haste-map: Haste module naming collision: @jupyterlab/mock-token\n  The following files share their name; please adjust your hasteImpl:\n    * <rootDir>/anaconda3/lib/python3.11/site-packages/jupyterlab/tests/mock_packages/interop/token/package.json\n    * <rootDir>/anaconda3/pkgs/jupyterlab-3.6.3-py311hca03da5_0/lib/python3.11/site-packages/jupyterlab/tests/mock_packages/interop/token/package.json\n\njest-haste-map: Haste module naming collision: @jupyterlab/mock-consumer\n  The following files share their name; please adjust your hasteImpl:\n    * <rootDir>/anaconda3/lib/python3.11/site-packages/jupyterlab/tests/mock_packages/interop/consumer/package.json\n    * <rootDir>/anaconda3/pkgs/jupyterlab-3.6.3-py311hca03da5_0/lib/python3.11/site-packages/jupyterlab/tests/mock_packages/interop/consumer/package.json\n\njest-haste-map: Haste module naming collision: @jupyterlab/mock-provider\n  The following files share their name; please adjust your hasteImpl:\n    * <rootDir>/anaconda3/lib/python3.11/site-packages/jupyterlab/tests/mock_packages/interop/provider/package.json\n    * <rootDir>/anaconda3/pkgs/jupyterlab-3.6.3-py311hca03da5_0/lib/python3.11/site-packages/jupyterlab/tests/mock_packages/interop/provider/package.json\n\n\nError: Cannot parse /Users/marcelkurvers/.nvm/test/fast/Unit tests/mocks/project_dirs/nested-both/package.json as JSON: Unexpected end of JSON input\n    at Object.worker (/Users/marcelkurvers/.npm/_npx/b8d86e6551a4f492/node_modules/jest-haste-map/build/worker.js:267:13)\n    at HasteMap._processFile (/Users/marcelkurvers/.npm/_npx/b8d86e6551a4f492/node_modules/jest-haste-map/build/index.js:2676:43)\n    at HasteMap._buildHasteMap (/Users/marcelkurvers/.npm/_npx/b8d86e6551a4f492/node_modules/jest-haste-map/build/index.js:2716:28)\n    at /Users/marcelkurvers/.npm/_npx/b8d86e6551a4f492/node_modules/jest-haste-map/build/index.js:2479:33\n    at async /Users/marcelkurvers/.npm/_npx/b8d86e6551a4f492/node_modules/@jest/core/build/index.js:1487:48\n    at async Promise.all (index 0)\n    at async buildContextsAndHasteMaps (/Users/marcelkurvers/.npm/_npx/b8d86e6551a4f492/node_modules/@jest/core/build/index.js:1476:20)\n    at async _run10000 (/Users/marcelkurvers/.npm/_npx/b8d86e6551a4f492/node_modules/@jest/core/build/index.js:1538:7)\n    at async runCLI (/Users/marcelkurvers/.npm/_npx/b8d86e6551a4f492/node_modules/@jest/core/build/index.js:1444:3)\n    at async Object.run (/Users/marcelkurvers/.npm/_npx/b8d86e6551a4f492/node_modules/jest-cli/build/index.js:656:9)",
      "start_time": "2025-12-21T09:12:50.089627Z",
      "end_time": "2025-12-21T09:13:58.505000Z",
      "status": "failed",
      "reason": null,
      "parsed_results": null
    },
    {
      "framework": "go test",
      "command": "go test ./... -v",
      "exit_code": -1,
      "raw_output": "Skipped: no Go source files detected.",
      "start_time": "2025-12-21T09:12:50.089212Z",
      "end_time": "2025-12-21T09:12:50.089212Z",
      "status": "skipped",
      "reason": "No Go source files detected in repository.",
      "parsed_results": null
    },
    {
      "framework": "cargo test",
      "command": "cargo test --verbose",
      "exit_code": -1,
      "raw_output": "Skipped: no Rust source files detected.",
      "start_time": "2025-12-21T09:12:50.089212Z",
      "end_time": "2025-12-21T09:12:50.089212Z",
      "status": "skipped",
      "reason": "No Rust source files detected in repository.",
      "parsed_results": null
    },
    {
      "framework": "maven/gradle",
      "command": "mvn test || gradle test",
      "exit_code": -1,
      "raw_output": "Skipped: no Java source files detected.",
      "start_time": "2025-12-21T09:12:50.089212Z",
      "end_time": "2025-12-21T09:12:50.089212Z",
      "status": "skipped",
      "reason": "No Java source files detected in repository.",
      "parsed_results": null
    },
    {
      "framework": "rspec/minitest",
      "command": "rspec || rake test",
      "exit_code": -1,
      "raw_output": "Skipped: no Ruby source files detected.",
      "start_time": "2025-12-21T09:12:50.089212Z",
      "end_time": "2025-12-21T09:12:50.089212Z",
      "status": "skipped",
      "reason": "No Ruby source files detected in repository.",
      "parsed_results": null
    }
  ]
}